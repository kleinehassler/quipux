<?xml version="1.0" encoding="UTF-8" ?>
<!-- $Header: /cvsroot/autodoc/autodoc/xml.tmpl,v 1.3 2012/01/05 15:22:28 rbt Exp $ -->
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN"
               "http://www.oasis-open.org/docbook/xml/4.5/docbookx.dtd" [
<!ENTITY % myent SYSTEM "entities.ent">
%myent;
]>
<book id="database.quipux-comunidad" xreflabel="quipux_comunidad database schema"><title>quipux_comunidad Model</title>




  <chapter id="public.schema"
           xreflabel="public">
    <title>Schema public</title>
    <para>standard public schema</para>


      <section id="public.table.accion"
               xreflabel="public.accion">
        <title id="public.table.accion-title">
         Table:
         <database class="view">accion</database>
         
        </title>
 

        <para>
          Lista de acciones que se muestran al momento de reasignar un documento para no tener que escribir en observaciones
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">accion</database>
            </title>


            <varlistentry>
              <term><database class="field">accion_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">accion_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Detalle</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Id de la institución a la que pertenece</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.actualizar-sistema"
               xreflabel="public.actualizar_sistema">
        <title id="public.table.actualizar-sistema-title">
         Table:
         <database class="view">actualizar_sistema</database>
         
        </title>
 

        <para>
          Gestiona las actualizaciones de tablas que tienen muchos registros, actualizando los registros en bloques
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">actualizar_sistema</database>
            </title>


            <varlistentry>
              <term><database class="field">actu_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;sec_actualizar_sistema&apos;::regclass)</literal>





              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sentencia</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Query de la actualización</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sentencia_verificacion</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Query que sirve para validar el número de registros restantes por actualizar</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>0 - Pendiente
1 - Ejecutado
2 - Cancelado
3 – Error</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">observacion</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Comentario acerca del cambio</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">svn</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Revisión SVN de la que depende el cambio</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">num_registros_total</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Número de registros a ser actualizados</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">num_registros_restantes</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Númer de registros que restan por actualizar</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">num_registros_bloque</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Número de registros que se actualizarán cada vez que se ejecute el proceso</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.anexos"
               xreflabel="public.anexos">
        <title id="public.table.anexos-title">
         Table:
         <database class="view">anexos</database>
         
        </title>
 

        <para>
          Archivos adjuntos a los documentos
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">anexos</database>
            </title>


            <varlistentry>
              <term><database class="field">anex_radi_nume</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>







                <database class="constraint">NOT NULL</database>






                <database class="constraint">REFERENCES <xref linkend="public.table.radicado"/></database>


              </para>

              <para>Número de radicado al que está asociado el anexo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_codigo</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id del anexo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_tipo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







                <database class="constraint">NOT NULL</database>






                <database class="constraint">REFERENCES <xref linkend="public.table.anexos-tipo"/></database>


              </para>

              <para>Tipo de documento (.doc, .pdf, etc.) depende de la tabla anexos_tipo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_desc</database></term>
              <listitem><para>
                <database class="datatype">character varying(512)</database>







              </para>

              <para>Descripción del anexo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_numero</database></term>
              <listitem><para>
                <database class="datatype">numeric(5,0)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Número de anexo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_path</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Path en el que se encuentra el archivo en la bodega</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_borrado</database></term>
              <listitem><para>
                <database class="datatype">character varying(1)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Indica si el archivo fue eliminado o no</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en la que se subió el anexo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Nombre original del archivo con el que lo subió el cliente</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Usuario que anexo el archivo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_tamano</database></term>
              <listitem><para>
                <database class="datatype">numeric</database>







              </para>

              <para>Tamaño del archivo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_fisico</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Determina si el origen del documento es fisico o electronico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_fecha_firma</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha de la firma digital</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_datos_firma</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Datos del firmante</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">arch_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Código del archivo almacenado en la BDD de documentos</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">arch_codi_firma</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Código del archivo firmado electrónicamente, almacenado en la BDD de documentos</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on anexos</title>

          <varlistentry>
            <term>idx_anexos_anex_codigo_varchar</term>
            <listitem><para>anex_codigo varchar_pattern_ops</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_radinume_borrados</term>
            <listitem><para>anex_radi_nume, anex_borrado) WITH (fillfactor=95</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>ind_anex_radi</term>
            <listitem><para>anex_radi_nume) WITH (fillfactor=95</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>

      <section id="public.table.anexos-tipo"
               xreflabel="public.anexos_tipo">
        <title id="public.table.anexos-tipo-title">
         Table:
         <database class="view">anexos_tipo</database>
         
        </title>
 

        <para>
          Tipos de anexos que se permiten cargar al sistema; por seguridad se suben solo los tipos de archivos permitidos
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">anexos_tipo</database>
            </title>


            <varlistentry>
              <term><database class="field">anex_tipo_codi</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_tipo_ext</database></term>
              <listitem><para>
                <database class="datatype">character varying(10)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Extensión del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_tipo_desc</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Descripción del tipo de archivo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_tipo_estado</database></term>
              <listitem><para>
                <database class="datatype">numeric(1,0)</database>





                <literal>DEFAULT 1</literal>



              </para>

              <para>Estado, activo o inactivo</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on anexos_tipo</title>

          <varlistentry>
            <term>idx_anexos_tipo</term>
            <listitem><para>anex_tipo_codi) WITH (fillfactor=100</para></listitem>
          </varlistentry>

        </variablelist>





        <itemizedlist>
          <title>
            Tables referencing anexos via Foreign Key Constraints
          </title>

          <listitem>
            <para>
              <xref linkend="public.table.anexos"/>
            </para>
          </listitem>

        </itemizedlist>






      </para>
    </section>

      <section id="public.table.archivo"
               xreflabel="public.archivo">
        <title id="public.table.archivo-title">
         Table:
         <database class="view">archivo</database>
         
        </title>
 

        <para>
          Tabla recursiva, estructura del archivo físico de una institución
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">archivo</database>
            </title>


            <varlistentry>
              <term><database class="field">arch_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id del item</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">arch_padre</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







                <database class="constraint">NOT NULL</database>






                <database class="constraint">REFERENCES <xref linkend="public.table.archivo"/></database>


              </para>

              <para>Id del item padre</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">arch_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(40)</database>







              </para>

              <para>Nombre del item</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">arch_sigla</database></term>
              <listitem><para>
                <database class="datatype">character varying(6)</database>







              </para>

              <para>Abreviatura del item</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Área a la que pertenece</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">arch_estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>





                <literal>DEFAULT 1</literal>



              </para>

              <para>Indica si se pueden seguir añadiendo documentos en la ubicacion actual</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">arch_ocupado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Indica si el item está relacionado con un expediente virtual</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on archivo</title>

          <varlistentry>
            <term>padre</term>
            <listitem><para>arch_padre) WITH (fillfactor=70</para></listitem>
          </varlistentry>

        </variablelist>





        <itemizedlist>
          <title>
            Tables referencing archivo via Foreign Key Constraints
          </title>

          <listitem>
            <para>
              <xref linkend="public.table.archivo"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.archivo-radicado"/>
            </para>
          </listitem>

        </itemizedlist>






      </para>
    </section>

      <section id="public.table.archivo-nivel"
               xreflabel="public.archivo_nivel">
        <title id="public.table.archivo-nivel-title">
         Table:
         <database class="view">archivo_nivel</database>
         
        </title>
 

        <para>
          Niveles que tendrá la estructura del archivo físico
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">archivo_nivel</database>
            </title>


            <varlistentry>
              <term><database class="field">arch_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id del Item, es un secuencial dependiendo del area funcional</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>






                <database class="constraint">PRIMARY KEY</database>











                <database class="constraint">REFERENCES <xref linkend="public.table.dependencia"/></database>




              </para>

              <para>Area funcional a la que pertenece el archivo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">arch_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Nombre del Item</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">arch_descripcion</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Descripcion del Item</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.archivo-radicado"
               xreflabel="public.archivo_radicado">
        <title id="public.table.archivo-radicado-title">
         Table:
         <database class="view">archivo_radicado</database>
         
        </title>
 

        <para>
          Relaciona RADICADO con ARCHIVO, guarda las asociaciones de los documentos en un item específico del archivo
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">archivo_radicado</database>
            </title>


            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>






                <database class="constraint">PRIMARY KEY</database>











                <database class="constraint">REFERENCES <xref linkend="public.table.radicado"/></database>




              </para>

              <para>Id del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">arch_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>






                <database class="constraint">PRIMARY KEY</database>











                <database class="constraint">REFERENCES <xref linkend="public.table.archivo"/></database>




              </para>

              <para>Id del item del archivo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.usuarios"/></database>


              </para>

              <para>Usuario que archivo el documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en que se archivó el documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.dependencia"/></database>


              </para>

              <para>Área en la que se archivó el documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_numero</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Numero de anexo que se esta archivando</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.bandeja-compartida"
               xreflabel="public.bandeja_compartida">
        <title id="public.table.bandeja-compartida-title">
         Table:
         <database class="view">bandeja_compartida</database>
         
        </title>
 

        <para>
          Guarda la relación entre el jefe del área y los usuarios a quienes se les comparte la bandeja de entrada
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">bandeja_compartida</database>
            </title>


            <varlistentry>
              <term><database class="field">ban_com_codi</database></term>
              <listitem><para>
                <database class="datatype">serial</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_jefe</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Código del usuario jefe</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Códigop del usuario al que le comparten la bandeja</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ban_com_fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en la que se compartió la bandeja</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on bandeja_compartida</title>

          <varlistentry>
            <term>pk_bandejacompartida</term>
            <listitem><para>ban_com_codi) WITH (fillfactor=100</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>

      <section id="public.table.bloqueo-sistema"
               xreflabel="public.bloqueo_sistema">
        <title id="public.table.bloqueo-sistema-title">
         Table:
         <database class="view">bloqueo_sistema</database>
         
        </title>
 

        <para>
          Alertas y bloqueos del sistema; para hacer un bloqueo se debe cambiar la variable correspondiente en el archivo config.php
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">bloqueo_sistema</database>
            </title>


            <varlistentry>
              <term><database class="field">bloq_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;sec_bloqueo_sistema&apos;::regclass)</literal>





              </para>

              <para>Id del bloqueo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_inicio</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha y hora cuando inicia el bloqueo o la alerta</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_fin</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha y hora cuando finaliza el bloqueo o la alerta</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">estado</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Estado de la alerta:
0 - Cancelado
1 - Activo
2 - Eliminado</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">descripcion</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Descripción corta del mensaje</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">mensaje_usuario</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Mensaje que se muestra al usuario en formato HTML</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_acceso</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Lista de usuarios que tendrán acceso al sistema, separados por guiones</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">tipo_mensaje</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>0 - Bloqueo General
1 - Bloqueo a nuevos usuarios
2 - Mensaje de alerta a todos los usuarios</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.carpeta"
               xreflabel="public.carpeta">
        <title id="public.table.carpeta-title">
         Table:
         <database class="view">carpeta</database>
         
        </title>
 

        <para>
          Lista de las bandejas que se muestran al usuario en el menú principal
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">carpeta</database>
            </title>


            <varlistentry>
              <term><database class="field">carp_codi</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id de la bandeja</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">carp_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Nombre de la bandeja</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">carp_descripcion</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Descripción que se muestra en el tool tip</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">carp_orden</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Orden en el que se mostraran las bandejas</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.categoria"
               xreflabel="public.categoria">
        <title id="public.table.categoria-title">
         Table:
         <database class="view">categoria</database>
         
        </title>
 

        <para>
          Catálogo con las categorías de los documentos (Normal, urgente, etc.)
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">categoria</database>
            </title>


            <varlistentry>
              <term><database class="field">cat_codi</database></term>
              <listitem><para>
                <database class="datatype">serial</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">cat_descr</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Descripción</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on categoria</title>

          <varlistentry>
            <term>idx_categoria</term>
            <listitem><para>cat_codi) WITH (fillfactor=100</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>

      <section id="public.table.ciudad"
               xreflabel="public.ciudad">
        <title id="public.table.ciudad-title">
         Table:
         <database class="view">ciudad</database>
         
        </title>
 

        <para>
          Catálogo de ciudades, tabla recursiva
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">ciudad</database>
            </title>


            <varlistentry>
              <term><database class="field">id</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id de la ciudad</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Nombre de la ciudad</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">id_padre</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Código del país o de la provincia a la que pertenece la ciudad</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.ciudadano"
               xreflabel="public.ciudadano">
        <title id="public.table.ciudadano-title">
         Table:
         <database class="view">ciudadano</database>
         
        </title>
 

        <para>
          Contiene los usuarios externos (que no pertenecen a una institución pública) y que solo pueden conectarse al sistema para consultar los documentos que dejaron en alguna institución y las respuestas recibidas
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">ciudadano</database>
            </title>


            <varlistentry>
              <term><database class="field">ciu_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Nombre de la persona</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_direccion</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>Dirección Domiciliaria</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_empresa</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Nombre de la empresa a la que pertenece</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_cargo</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>Cargo que desempeña en su empresa</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_telefono</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Número telefónico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_email</database></term>
              <listitem><para>
                <database class="datatype">character varying(500)</database>







              </para>

              <para>email; pueden ser varios separados por comas</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_titulo</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Título o tratamiento (Señor, Ingeniero, etc.)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_abr_titulo</database></term>
              <listitem><para>
                <database class="datatype">character varying(30)</database>







              </para>

              <para>Abreviación del título o tratamiento (Sr., Ing., etc.)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_codigo</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval((&apos;public.usuarios_usua_codi_seq&apos;::text)::regclass)</literal>





              </para>

              <para>Id del usuario ciudadano</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_apellido</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Apellido de la persona</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_cedula</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Número de cédula de ciudadanía</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Institución en la que se creo el ciudadano (log)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_estado</database></term>
              <listitem><para>
                <database class="datatype">integer</database>





                <literal>DEFAULT 1</literal>



              </para>

              <para>Estado del ciudadano
0 - Inactivo
1 - Activo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_documento</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Número de identificación adicional (RUC, pasaporte, etc.)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_pasw</database></term>
              <listitem><para>
                <database class="datatype">character varying(35)</database>







              </para>

              <para>Contraseña</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_nuevo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Indica si es un usuario nuevo y si se le debe enviar la contraseña a su correo electrónico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_actualiza</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Usuario que realizó la última modificación a los datos del ciudadano</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_fecha_actualiza</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en que se modificó por última vez al ciudadano</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciudad_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id de la ciudad en la que se encuentra la persona</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_obs_actualiza</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Descripción de los últimos cambios realizados en la información del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_referencia</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Datos de referencia de la dirección del domicilio</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on ciudadano</title>

          <varlistentry>
            <term>idx_ciudadano_ciu_cedula</term>
            <listitem><para>ciu_cedula</para></listitem>
          </varlistentry>

        </variablelist>





        <itemizedlist>
          <title>
            Tables referencing ciudadano_tmp via Foreign Key Constraints
          </title>

          <listitem>
            <para>
              <xref linkend="public.table.ciudadano-tmp"/>
            </para>
          </listitem>

        </itemizedlist>






      </para>
    </section>

      <section id="public.table.ciudadano-tmp"
               xreflabel="public.ciudadano_tmp">
        <title id="public.table.ciudadano-tmp-title">
         Table:
         <database class="view">ciudadano_tmp</database>
         
        </title>
 

        <para>
          Tabla temporal en la que se guardan los cambios realizados a ciudadanos hasta que sean autorizados por un usuario con los permisos correspondientes
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">ciudadano_tmp</database>
            </title>


            <varlistentry>
              <term><database class="field">ciu_codigo</database></term>
              <listitem><para>
                <database class="datatype">integer</database>






                <database class="constraint">PRIMARY KEY</database>











                <database class="constraint">REFERENCES <xref linkend="public.table.ciudadano"/></database>




              </para>

              <para>Id del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_cedula</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Número de cédula de ciudadanía</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_documento</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Número de identificación adicional (RUC, pasaporte, etc.)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Nombre de la persona</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_apellido</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Apellido de la persona</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_titulo</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Título o tratamiento (Señor, Ingeniero, etc.)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_abr_titulo</database></term>
              <listitem><para>
                <database class="datatype">character varying(30)</database>







              </para>

              <para>Abreviación del título o tratamiento (Sr., Ing., etc.)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_empresa</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Nombre de la empresa a la que pertenece</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_cargo</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>Cargo que desempeña en su empresa</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_direccion</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>Dirección Domiciliaria</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_telefono</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Número telefónico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_email</database></term>
              <listitem><para>
                <database class="datatype">character varying(500)</database>







              </para>

              <para>Correo electrónico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciudad_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id de la ciudad en la que se encuentra la persona</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>





                <literal>DEFAULT 1</literal>



              </para>

              <para>Determina si la solicitud de cambio ya fue revisada por un administrador</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_referencia</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Datos de referencia de la dirección del domicilio</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.codificacion"
               xreflabel="public.codificacion">
        <title id="public.table.codificacion-title">
         Table:
         <database class="view">codificacion</database>
         
        </title>
 

        <para>
          Codificación o tipificación de los documentos
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">codificacion</database>
            </title>


            <varlistentry>
              <term><database class="field">cod_codi</database></term>
              <listitem><para>
                <database class="datatype">serial</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">cod_descripcion</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Descripción</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Institución a la que pertenece la codificación</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on codificacion</title>

          <varlistentry>
            <term>pk_codificacion</term>
            <listitem><para>cod_codi) WITH (fillfactor=100</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>

      <section id="public.view.contadores"
               xreflabel="public.contadores">
        <title id="public.view.contadores-title">
         View:
         <database class="table">contadores</database>
         
        </title>
 


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">contadores</database>
            </title>


            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">En
elaboracion</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">En tramite</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">Eliminados</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">No enviados</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">Enviados</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">Archivados</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">Reasignados</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">Informados</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

            </listitem>
          </varlistentry>

        </variablelist>








        <figure>
         <title>Definition of view contadores</title>
         <programlisting>
SELECT r.radi_usua_actu AS usua_codi
,
    count
(
        CASE
            WHEN 
     (r.esta_codi = 1) THEN 1
            ELSE NULL::integer
        END
) AS &quot;En
elaboracion&quot;
,
    count
(
        CASE
            WHEN 
     (r.esta_codi = 2) THEN 1
            ELSE NULL::integer
        END
) AS &quot;En tramite&quot;
,
    count
(
        CASE
            WHEN 
     (r.esta_codi = 7) THEN 1
            ELSE NULL::integer
        END
) AS &quot;Eliminados&quot;
,
    count
(
        CASE
            WHEN 
     (r.esta_codi = 3) THEN 1
            ELSE NULL::integer
        END
) AS &quot;No enviados&quot;
,
    count
(
        CASE
            WHEN 
     (
           (r.esta_codi = 6)
         AND (r.radi_nume_radi = r.radi_nume_temp)
     ) THEN 1
            ELSE NULL::integer
        END
) AS &quot;Enviados&quot;
,
    count
(
        CASE
            WHEN 
     (r.esta_codi = 0) THEN 1
            ELSE NULL::integer
        END
) AS &quot;Archivados&quot;
,
    
(
SELECT count
     (hist_eventos.radi_nume_radi) AS count
           
  FROM hist_eventos
          
 WHERE (
           (hist_eventos.usua_codi_ori = r.radi_usua_actu)
         AND (hist_eventos.sgd_ttr_codigo = 9)
     )
) AS &quot;Reasignados&quot;
,
    
(
SELECT count
     (*) AS count
           
  FROM informados
          
 WHERE (informados.usua_codi = r.radi_usua_actu)
) AS &quot;Informados&quot;
   
FROM radicado r
  
GROUP BY r.radi_usua_actu;</programlisting>
        </figure>



      </para>
    </section>

      <section id="public.table.contenido"
               xreflabel="public.contenido">
        <title id="public.table.contenido-title">
         Table:
         <database class="view">contenido</database>
         
        </title>
 

        <para>
          Guarda la información que se muestra en las pantallas index y ayuda del sistema
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">contenido</database>
            </title>


            <varlistentry>
              <term><database class="field">cont_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;sec_contenido&apos;::regclass)</literal>





              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">cont_tipo_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Tipo de contenido, indica en dónde se muestra la información</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">descripcion</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Descripción de la información</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">texto</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Texto en formato HTML que se muestra en las páginas</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_crea</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha de creación</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_actualiza</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha de actualización</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.contenido-tipo"
               xreflabel="public.contenido_tipo">
        <title id="public.table.contenido-tipo-title">
         Table:
         <database class="view">contenido_tipo</database>
         
        </title>
 

        <para>
          Catálogo con los tipos de contenidos que se muestran en las pantallas de index y ayuda del sistema
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">contenido_tipo</database>
            </title>


            <varlistentry>
              <term><database class="field">cont_tipo_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">funcionalidad</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Página a la que pertenece</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">categoria</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Categoría o tipo de contenido</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.view.datos-solicitud"
               xreflabel="public.datos_solicitud">
        <title id="public.view.datos-solicitud-title">
         View:
         <database class="table">datos_solicitud</database>
         
        </title>
 


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">datos_solicitud</database>
            </title>


            <varlistentry>
              <term><database class="field">ciu_nombre</database></term>
              <listitem><para>
                <database class="datatype">text</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_cedula</database></term>
              <listitem><para>
                <database class="datatype">character varying(25)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_email</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sol_estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_codigo</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

        </variablelist>








        <figure>
         <title>Definition of view datos_solicitud</title>
         <programlisting>
SELECT (
     (
           (solicitud_firma_ciudadano.ciu_nombre)::text || &apos; &apos;::text
     ) || 
     (solicitud_firma_ciudadano.ciu_apellido)::text
) AS ciu_nombre
,
    solicitud_firma_ciudadano.ciu_cedula
,
    solicitud_firma_ciudadano.ciu_email
,
    solicitud_firma_ciudadano.sol_estado
,
    solicitud_firma_ciudadano.ciu_codigo
   
FROM solicitud_firma_ciudadano;</programlisting>
        </figure>



      </para>
    </section>

      <section id="public.view.datos-usuarios"
               xreflabel="public.datos_usuarios">
        <title id="public.view.datos-usuarios-title">
         View:
         <database class="table">datos_usuarios</database>
         
        </title>
 


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">datos_usuarios</database>
            </title>


            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_cedula</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_login</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_nomb</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_apellido</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_nombre</database></term>
              <listitem><para>
                <database class="datatype">text</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_estado</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_sigla</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_cargo</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_cargo_cabecera</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_titulo</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_abr_titulo</database></term>
              <listitem><para>
                <database class="datatype">character varying(30)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_email</database></term>
              <listitem><para>
                <database class="datatype">character varying(500)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_esta</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">cargo_tipo</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_nomb</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">dep_sigla</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">tipo_usuario</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_direccion</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_telefono</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_ciudad</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_firma_path</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_tipo_certificado</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">visible_sub</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

        </variablelist>








        <figure>
         <title>Definition of view datos_usuarios</title>
         <programlisting>
SELECT u.usua_codi
,
    u.usua_cedula
,
    u.usua_login
,
    u.usua_nomb
,
    u.usua_apellido
,
    
(
     (
           (COALESCE
                 (u.usua_nomb
                       ,&apos;&apos;::character varying
                 )
           )::text || &apos; &apos;::text
     ) || 
     (COALESCE
           (u.usua_apellido
                 ,&apos;&apos;::character varying
           )
     )::text
) AS usua_nombre
,
    u.inst_codi
,
        CASE
            WHEN 
(i.inst_codi = 1) THEN u.inst_nombre
            ELSE i.inst_nombre
        END AS inst_nombre
,
    i.inst_estado
,
    i.inst_sigla
,
    u.usua_cargo
,
    u.usua_cargo_cabecera
,
    u.usua_titulo
,
    u.usua_abr_titulo
,
    u.usua_email
,
    u.usua_esta
,
    u.cargo_tipo
,
    u.depe_codi
,
    d.depe_nomb
,
    d.dep_sigla
,
        CASE
            WHEN 
(i.inst_codi = 1) THEN 2
            ELSE 1
        END AS tipo_usuario
,
    u.usua_direccion
,
    u.usua_telefono
,
    
(
SELECT c.nombre
           
  FROM ciudad c
          
 WHERE (COALESCE
           (u.ciu_codi
                 , (COALESCE
                       (d.depe_pie1
                             ,&apos;1&apos;::character varying
                       )
                 )::integer
           ) = c.id
     )
) AS usua_ciudad
,
    u.usua_firma_path
,
    u.usua_tipo_certificado
,
    u.visible_sub
   
FROM (
     (usuarios u
     
   LEFT JOIN dependencia d 
          ON (
                 (u.depe_codi = d.depe_codi)
           )
     )
     
LEFT JOIN institucion i 
    ON (
           (i.inst_codi = u.inst_codi)
     )
)
UNION ALL
 
SELECT u.ciu_codigo AS usua_codi
,
    u.ciu_cedula AS usua_cedula
,
        CASE
            WHEN 
(u.ciu_estado = 1) THEN 
(&apos;U&apos;::text || 
     (u.ciu_cedula)::text
)
            ELSE 
(&apos;l&apos;::text || 
     (u.ciu_codigo)::text
)
        END AS usua_login
,
    u.ciu_nombre AS usua_nomb
,
    u.ciu_apellido AS usua_apellido
,
    
(
     (
           (COALESCE
                 (u.ciu_nombre
                       ,&apos;&apos;::character varying
                 )
           )::text || &apos; &apos;::text
     ) || 
     (COALESCE
           (u.ciu_apellido
                 ,&apos;&apos;::character varying
           )
     )::text
) AS usua_nombre
,
    0 AS inst_codi
,
    u.ciu_empresa AS inst_nombre
,
    1 AS inst_estado
,
    &apos;&apos;::character varying AS inst_sigla
,
    u.ciu_cargo AS usua_cargo
,
    u.ciu_cargo AS usua_cargo_cabecera
,
    u.ciu_titulo AS usua_titulo
,
    u.ciu_abr_titulo AS usua_abr_titulo
,
    u.ciu_email AS usua_email
,
    u.ciu_estado AS usua_esta
,
    0 AS cargo_tipo
,
    NULL::integer AS depe_codi
,
    NULL::character varying AS depe_nomb
,
    NULL::character varying AS dep_sigla
,
    2 AS tipo_usuario
,
    u.ciu_direccion AS usua_direccion
,
    u.ciu_telefono AS usua_telefono
,
    
(
SELECT c.nombre
           
  FROM ciudad c
          
 WHERE (COALESCE
           (u.ciudad_codi
                 , 1
           ) = c.id
     )
) AS usua_ciudad
,
    &apos;&apos;::character varying AS usua_firma_path
,
    0 AS usua_tipo_certificado
,
    0 AS visible_sub
   
FROM ciudadano u;</programlisting>
        </figure>



      </para>
    </section>

      <section id="public.table.dependencia"
               xreflabel="public.dependencia">
        <title id="public.table.dependencia-title">
         Table:
         <database class="view">dependencia</database>
         
        </title>
 

        <para>
          Áreas funcionales de las instituciones, estructura orgánica funcional
Tabla recursiva
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">dependencia</database>
            </title>


            <varlistentry>
              <term><database class="field">depe_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id del área</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_nomb</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Nombre del área</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi_padre</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.dependencia"/></database>


              </para>

              <para>Id del área padre; código del área superior en el orgánico funcional</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">dep_sigla</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Siglas del área</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">dep_central</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.dependencia"/></database>


              </para>

              <para>Indica en qué area se encuentra el archivo físico donde se guarda la documentación impresa del área</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">dep_direccion</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Campo en desuso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Estado del área</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.institucion"/></database>


              </para>

              <para>Codigo de la institución a la que pertenece</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_plantilla</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.dependencia"/></database>


              </para>

              <para>Dependencia de la que se copiará la plantilla con que se generan los documentos </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_pie1</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>Ciudad a la que pertenece el área y que se pondrá por defecto a los usuarios del área</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_pie2</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>Campo en desuso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_pie3</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>Campo en desuso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_adscrita</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Código de la institución adscrita</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on dependencia</title>

          <varlistentry>
            <term>idx_dependencia_depe_nombre</term>
            <listitem><para>depe_nomb</para></listitem>
          </varlistentry>

        </variablelist>





        <itemizedlist>
          <title>
            Tables referencing archivo_nivel via Foreign Key Constraints
          </title>

          <listitem>
            <para>
              <xref linkend="public.table.archivo-nivel"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.archivo-radicado"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.dependencia"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.formato-numeracion"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.metadatos"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.metadatos-radicado"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.permiso-usuario-dep"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.trd"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.trd-radicado"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.usuarios"/>
            </para>
          </listitem>

        </itemizedlist>






      </para>
    </section>

      <section id="public.table.estado"
               xreflabel="public.estado">
        <title id="public.table.estado-title">
         Table:
         <database class="view">estado</database>
         
        </title>
 

        <para>
          Estados en los que puede estar un documento
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">estado</database>
            </title>


            <varlistentry>
              <term><database class="field">esta_codi</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>ESTA_CODI</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">esta_desc</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>ESTA_DESC</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on estado</title>

          <varlistentry>
            <term>idx_estado</term>
            <listitem><para>esta_codi) WITH (fillfactor=90</para></listitem>
          </varlistentry>

        </variablelist>





        <itemizedlist>
          <title>
            Tables referencing radicado via Foreign Key Constraints
          </title>

          <listitem>
            <para>
              <xref linkend="public.table.radicado"/>
            </para>
          </listitem>

        </itemizedlist>






      </para>
    </section>

      <section id="public.table.formato-numeracion"
               xreflabel="public.formato_numeracion">
        <title id="public.table.formato-numeracion-title">
         Table:
         <database class="view">formato_numeracion</database>
         
        </title>
 

        <para>
          Maneja los formatos de la numeración y los números secuenciales de los documentos
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">formato_numeracion</database>
            </title>


            <varlistentry>
              <term><database class="field">fn_abr_texto</database></term>
              <listitem><para>
                <database class="datatype">character varying(10)</database>







              </para>

              <para>Abreviatura del tipo de documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fn_formato</database></term>
              <listitem><para>
                <database class="datatype">character varying(45)</database>







              </para>

              <para>Formato de la numeración</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>






                <database class="constraint">PRIMARY KEY</database>











                <database class="constraint">REFERENCES <xref linkend="public.table.dependencia"/></database>




              </para>

              <para>Área a la que pertenece ese formato; cada área puede tener su propio formato de numeración</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fn_caracter</database></term>
              <listitem><para>
                <database class="datatype">character varying(5)</database>





                <literal>DEFAULT &apos;-&apos;::character varying</literal>



              </para>

              <para>Caracter que servirá para separar la numeración; por defecto &quot;-&quot;</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fn_num_consec</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>





                <literal>DEFAULT 4</literal>



              </para>

              <para>Número de digitos con los que se mostrará número secuencial</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fn_num_anio</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>





                <literal>DEFAULT 4</literal>



              </para>

              <para>Numero de digitos con los que se mostrará el año</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_numeracion</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.dependencia"/></database>


              </para>

              <para>Dependencia de la que se tomará el formato y la numeración, en el caso que se desee utilizar la de otra área</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fn_contador</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Secuencia actual del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fn_tiporad</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>






                <database class="constraint">PRIMARY KEY</database>











                <database class="constraint">REFERENCES <xref linkend="public.table.tiporad"/></database>




              </para>

              <para>Tipo de documento (oficio, memo, etc.)</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.hist-envio-fisico"
               xreflabel="public.hist_envio_fisico">
        <title id="public.table.hist-envio-fisico-title">
         Table:
         <database class="view">hist_envio_fisico</database>
         
        </title>
 

        <para>
          Registro de los traspasos físicos de documentos de una persona a otra
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">hist_envio_fisico</database>
            </title>


            <varlistentry>
              <term><database class="field">hist_fech_envio</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Fecha del traspaso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">hist_codi</database></term>
              <listitem><para>
                <database class="datatype">numeric(30,0)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Id de la transacción en hist_eventos</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Id del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_enviado</database></term>
              <listitem><para>
                <database class="datatype">integer</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Destinatario del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_responsable</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Responsable del traslado</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">estado</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Estado (material) en el que se encuentra el documento físico enviado
B - Bueno
M - Malo
R - Regular</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">estadoenvio</database></term>
              <listitem><para>
                <database class="datatype">bit(1)</database>



                <database class="constraint">NOT NULL</database>



                <literal>DEFAULT B&apos;0&apos;::&quot;bit&quot;</literal>



              </para>

              <para>Indica el estado de la acción de envío, enviado o no enviado</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">his_id</database></term>
              <listitem><para>
                <database class="datatype">serial</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.hist-eventos"
               xreflabel="public.hist_eventos">
        <title id="public.table.hist-eventos-title">
         Table:
         <database class="view">hist_eventos</database>
         
        </title>
 

        <para>
          Registro de las transacciones realizadas con los documentos
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">hist_eventos</database>
            </title>


            <varlistentry>
              <term><database class="field">hist_fech</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Fecha de la transacción</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_ori</database></term>
              <listitem><para>
                <database class="datatype">integer</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Usuario que realizó la transacción</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>







                <database class="constraint">NOT NULL</database>






                <database class="constraint">REFERENCES <xref linkend="public.table.radicado"/></database>


              </para>

              <para>Id del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">hist_obse</database></term>
              <listitem><para>
                <database class="datatype">character varying(600)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Observaciones</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_dest</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Codigo del usuario destino, en caso que la transacción involucre a más de un usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sgd_ttr_codigo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.sgd-ttr-transaccion"/></database>


              </para>

              <para>Id de la transacción</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">hist_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;hist_eventos_hist_codi_seq&apos;::regclass)</literal>





              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">hist_referencia</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Campo adicional para guardar códigos o fechas o datos adicionales dependiendo de la transacción</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on hist_eventos</title>

          <varlistentry>
            <term>fki_historico_ttr_codigo</term>
            <listitem><para>sgd_ttr_codigo) WITH (fillfactor=100</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>fki_historico_usua_codi</term>
            <listitem><para>usua_codi_ori) WITH (fillfactor=100</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>fki_historico_usua_codi_dest</term>
            <listitem><para>usua_codi_dest) WITH (fillfactor=100</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_hist_eventos_usua_codi_ori_sgd_ttr_codigo</term>
            <listitem><para>usua_codi_ori, sgd_ttr_codigo) WITH (fillfactor=100</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>radi_nume_radi</term>
            <listitem><para>radi_nume_radi) WITH (fillfactor=100</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>

      <section id="public.table.hist-opc-impresion"
               xreflabel="public.hist_opc_impresion">
        <title id="public.table.hist-opc-impresion-title">
         Table:
         <database class="view">hist_opc_impresion</database>
         
        </title>
 

        <para>
          Log de cambios de las opciones de impresión
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">hist_opc_impresion</database>
            </title>


            <varlistentry>
              <term><database class="field">hist_fech_impresion</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha que realizó el cambio en opciones de impresión</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">hist_codi</database></term>
              <listitem><para>
                <database class="datatype">serial</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>







              </para>

              <para>Id del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_ori</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>usuario que realiza el cambio</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">hist_observacion</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Detalle de los cambios realizados</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">id_transaccion</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Si es insert o update</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.informados"
               xreflabel="public.informados">
        <title id="public.table.informados-title">
         Table:
         <database class="view">informados</database>
         
        </title>
 

        <para>
          Documentos informados
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">informados</database>
            </title>


            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>







                <database class="constraint">NOT NULL</database>






                <database class="constraint">REFERENCES <xref linkend="public.table.radicado"/></database>


              </para>

              <para>id del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">info_desc</database></term>
              <listitem><para>
                <database class="datatype">character varying(600)</database>







              </para>

              <para>Comentario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">info_fech</database></term>
              <listitem><para>
                <database class="datatype">date</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Fecha</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">info_leido</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Bandera que indica si ya fue leido por el destinatario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.usuarios"/></database>


              </para>

              <para>Usuario destinatario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_info</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.usuarios"/></database>


              </para>

              <para>Usuario Informador</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">info_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;informados_info_codi_seq&apos;::regclass)</literal>





              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on informados</title>

          <varlistentry>
            <term>fki_informados_radi_nume_radi</term>
            <listitem><para>radi_nume_radi) WITH (fillfactor=90</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>fki_informados_usua_codi</term>
            <listitem><para>usua_codi) WITH (fillfactor=90</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>

      <section id="public.table.institucion"
               xreflabel="public.institucion">
        <title id="public.table.institucion-title">
         Table:
         <database class="view">institucion</database>
         
        </title>
 

        <para>
          Instituciones registradas
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">institucion</database>
            </title>


            <varlistentry>
              <term><database class="field">inst_ruc</database></term>
              <listitem><para>
                <database class="datatype">character varying(14)</database>







              </para>

              <para>RUC de la Institución</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Nombre de la institución</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_logo</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Path donde se encuentra la imágen con el logo institucional</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_sigla</database></term>
              <listitem><para>
                <database class="datatype">character varying(10)</database>







              </para>

              <para>Siglas de la institución</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_pie1</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>Campo en desuso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_pie2</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>Campo en desuso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_pie3</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>Campo en desuso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_estado</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Estado, activa o inactiva</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_coordinador</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Id del ministerio coordinador</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_telefono</database></term>
              <listitem><para>
                <database class="datatype">character varying(30)</database>







              </para>

              <para>Número telefónico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_despedida_ofi</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Frase de despedida por defecto que saldrá en los documentos (Ejm: Dios, Patria y Libertad)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_email</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>email para soporte institucional</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_ws_wsdl</database></term>
              <listitem><para>
                <database class="datatype">character varying(500)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_ws_usuario</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_ws_contrasena</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on institucion</title>

          <varlistentry>
            <term>idx_nombre</term>
            <listitem><para>inst_nombre) WITH (fillfactor=90</para></listitem>
          </varlistentry>

        </variablelist>





        <itemizedlist>
          <title>
            Tables referencing dependencia via Foreign Key Constraints
          </title>

          <listitem>
            <para>
              <xref linkend="public.table.dependencia"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.lista"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.radicado"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.usuarios"/>
            </para>
          </listitem>

        </itemizedlist>






      </para>
    </section>

      <section id="public.table.institucion-coordinador"
               xreflabel="public.institucion_coordinador">
        <title id="public.table.institucion-coordinador-title">
         Table:
         <database class="view">institucion_coordinador</database>
         
        </title>
 

        <para>
          Instituciones Coordinadoras (se la utiliza en otros sistemas)
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">institucion_coordinador</database>
            </title>


            <varlistentry>
              <term><database class="field">inst_coor_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;institucion_coordinador_inst_coor_codi_seq1&apos;::regclass)</literal>





              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_codi_coor</database></term>
              <listitem><para>
                <database class="datatype">integer</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Codigo de la dependencia coordinadora</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Codigo de la dependencia</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_coor_fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Fecha de ultima actualizacion</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.institucion-org"
               xreflabel="public.institucion_org">
        <title id="public.table.institucion-org-title">
         Table:
         <database class="view">institucion_org</database>
         
        </title>
 

        <para>
          Organigrama de las instituciones del estado
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">institucion_org</database>
            </title>


            <varlistentry>
              <term><database class="field">org_id</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">org_id_padre</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id de la entidad padre</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Código de la institución</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_registro</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha de registro</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Código del área padre</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.lista"
               xreflabel="public.lista">
        <title id="public.table.lista-title">
         Table:
         <database class="view">lista</database>
         
        </title>
 

        <para>
          Listas de usuarios para facilitar el envío de documentación
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">lista</database>
            </title>


            <varlistentry>
              <term><database class="field">lista_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;lista_lista_id_seq&apos;::regclass)</literal>





              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">lista_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(250)</database>







              </para>

              <para>Nombre de la lista</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">lista_descripcion</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Descripción de la lista</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.institucion"/></database>


              </para>

              <para>Id de la institución</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.usuarios"/></database>


              </para>

              <para>Id del usuario al que pertenece la lista (0 para listas públicas)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">lista_fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha de ultima actualizacion</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">lista_orden</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Orden en el que se mostrarán los usuarios de la lista (alfabético o por órden de selección)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">lista_estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>





                <literal>DEFAULT 1</literal>



              </para>

              <para>Estado de la lista: activo o inactivo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">lista_usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del usuario que modificó la lista</para>

            </listitem>
          </varlistentry>

        </variablelist>







        <itemizedlist>
          <title>
            Tables referencing lista_usuarios via Foreign Key Constraints
          </title>

          <listitem>
            <para>
              <xref linkend="public.table.lista-usuarios"/>
            </para>
          </listitem>

        </itemizedlist>






      </para>
    </section>

      <section id="public.table.lista-usuarios"
               xreflabel="public.lista_usuarios">
        <title id="public.table.lista-usuarios-title">
         Table:
         <database class="view">lista_usuarios</database>
         
        </title>
 

        <para>
          Relación entre las tablas de usuarios y listas
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">lista_usuarios</database>
            </title>


            <varlistentry>
              <term><database class="field">lista_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>






                <database class="constraint">PRIMARY KEY</database>











                <database class="constraint">REFERENCES <xref linkend="public.table.lista"/></database>




              </para>

              <para>Id de la lista</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">orden</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Número en base al cual se ordenan los usuarios</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on lista_usuarios</title>

          <varlistentry>
            <term>pk_listausuarios</term>
            <listitem><para>lista_codi) WITH (fillfactor=98</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>

      <section id="public.table.log"
               xreflabel="public.log">
        <title id="public.table.log-title">
         Table:
         <database class="view">log</database>
         
        </title>
 

        <para>
          Log de transacciones del sistema, almacena los queries más importantes ejecutados el la BDD
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">log</database>
            </title>


            <varlistentry>
              <term><database class="field">log_id</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;log_log_id_seq&apos;::regclass)</literal>





              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en la que se realizo la accion</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del usuario que realizó la acción</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">tabla</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Nombre de la tabla que se modifico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sentencia</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Query que se ejecuto</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">tipo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Tipo de log:
0 - Error
1 - Update
2 - Insert</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.log-acceso"
               xreflabel="public.log_acceso">
        <title id="public.table.log-acceso-title">
         Table:
         <database class="view">log_acceso</database>
         
        </title>
 

        <para>
          Log de los accesos e intentos de acceso de los usuarios al sistema
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">log_acceso</database>
            </title>


            <varlistentry>
              <term><database class="field">log_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;sec_log_acceso&apos;::regclass)</literal>





              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha de acceso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usuario</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Login del usuario con el que se intento ingresar</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ip</database></term>
              <listitem><para>
                <database class="datatype">character varying(300)</database>







              </para>

              <para>Ip de la máquina del cliente</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">intentos</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>No. de intento de acceso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">acceso</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Bandera que indica si el usuario ingresó al sistema o no</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.log-acceso2014"
               xreflabel="public.log_acceso2014">
        <title id="public.table.log-acceso2014-title">
         Table:
         <database class="view">log_acceso2014</database>
         
        </title>
 


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">log_acceso2014</database>
            </title>


            <varlistentry>
              <term><database class="field">log_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>



                <database class="constraint">NOT NULL</database>



                <literal>DEFAULT nextval(&apos;sec_log_acceso&apos;::regclass)</literal>



              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usuario</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ip</database></term>
              <listitem><para>
                <database class="datatype">character varying(300)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">intentos</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">acceso</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

            </listitem>
          </varlistentry>

        </variablelist>



        <variablelist>
          <title>Constraints on log_acceso2014</title>

          <varlistentry>
            <term>log_acceso2014_fecha_check</term>
            <listitem><para>CHECK ((date_part(&apos;year&apos;::text, fecha) = (2014)::double precision))</para></listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on log_acceso2014</title>

          <varlistentry>
            <term>log_acceso2014x</term>
            <listitem><para>fecha</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>

      <section id="public.table.log-archivo-descarga"
               xreflabel="public.log_archivo_descarga">
        <title id="public.table.log-archivo-descarga-title">
         Table:
         <database class="view">log_archivo_descarga</database>
         
        </title>
 

        <para>
          Guarda un registro de todos los archivos que son descargados en el sistema
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">log_archivo_descarga</database>
            </title>


            <varlistentry>
              <term><database class="field">log_codi</database></term>
              <listitem><para>
                <database class="datatype">bigserial</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha de la descarga</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Usuario que descargó el archivo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>







              </para>

              <para>Número de documento al que pertenece el archivo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_codigo</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Código del anexo si es que era un adjunto o una imágen digitalizada</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">arch_tipo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Define si se descarga un archivo firmado electrónicamente o un archivo sin firma</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">tipo_descarga</database></term>
              <listitem><para>
                <database class="datatype">character varying(10)</database>







              </para>

              <para>Tipo de descarga: descarga, embebido y embebido con acrobat reader</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.log-archivo-descarga2014"
               xreflabel="public.log_archivo_descarga2014">
        <title id="public.table.log-archivo-descarga2014-title">
         Table:
         <database class="view">log_archivo_descarga2014</database>
         
        </title>
 


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">log_archivo_descarga2014</database>
            </title>


            <varlistentry>
              <term><database class="field">log_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>



                <database class="constraint">NOT NULL</database>



                <literal>DEFAULT nextval(&apos;log_archivo_descarga_log_codi_seq&apos;::regclass)</literal>



              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">anex_codigo</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">arch_tipo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">tipo_descarga</database></term>
              <listitem><para>
                <database class="datatype">character varying(10)</database>







              </para>

            </listitem>
          </varlistentry>

        </variablelist>



        <variablelist>
          <title>Constraints on log_archivo_descarga2014</title>

          <varlistentry>
            <term>log_archivo_descarga2014_fecha_check</term>
            <listitem><para>CHECK ((date_part(&apos;year&apos;::text, fecha) = (2014)::double precision))</para></listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on log_archivo_descarga2014</title>

          <varlistentry>
            <term>log_archivo_descarga2014x</term>
            <listitem><para>fecha</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>

      <section id="public.table.log-bloqueos-dos"
               xreflabel="public.log_bloqueos_dos">
        <title id="public.table.log-bloqueos-dos-title">
         Table:
         <database class="view">log_bloqueos_dos</database>
         
        </title>
 

        <para>
          Registra los usuarios que fueron bloqueados en el sistema por realizar muchas peticiones en un tiempo muy corto
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">log_bloqueos_dos</database>
            </title>


            <varlistentry>
              <term><database class="field">log_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;sec_log_bloqueos_dos&apos;::regclass)</literal>





              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha y hora del bloqueo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Código del usuario bloqueado</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">pagina</database></term>
              <listitem><para>
                <database class="datatype">character varying(500)</database>







              </para>

              <para>Página a la que intentó acceder el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">navegador</database></term>
              <listitem><para>
                <database class="datatype">character varying(500)</database>







              </para>

              <para>Datos del navegador del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ip</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>IP desde la que se conectó el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">num_accesos</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Número de peticiones realizadas antes del bloqueo</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.log-full-backup"
               xreflabel="public.log_full_backup">
        <title id="public.table.log-full-backup-title">
         Table:
         <database class="view">log_full_backup</database>
         
        </title>
 

        <para>
          Log en el que se guardan todas las sentencias ejecutadas en la BDD.
Se la utilizó temporalmente para sincronizar BDD postgres 9.1 y 8.2 durante el upgrade de versión
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">log_full_backup</database>
            </title>


            <varlistentry>
              <term><database class="field">log_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;sec_log_full_backup&apos;::regclass)</literal>





              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sentencia</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Sentencia ejecutada, almacenada en base 64</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>





                <literal>DEFAULT now()</literal>



              </para>

              <para>Fecha de ejecución del script</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Bandera utilizada en la sincronización para saber si el query ya se ejecutó en la otra BDD</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.log-matar-procesos-servidores"
               xreflabel="public.log_matar_procesos_servidores">
        <title id="public.table.log-matar-procesos-servidores-title">
         Table:
         <database class="view">log_matar_procesos_servidores</database>
         
        </title>
 


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">log_matar_procesos_servidores</database>
            </title>


            <varlistentry>
              <term><database class="field">log_codi</database></term>
              <listitem><para>
                <database class="datatype">bigserial</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">servidor</database></term>
              <listitem><para>
                <database class="datatype">character varying(20)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">cliente</database></term>
              <listitem><para>
                <database class="datatype">character varying(20)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">numero_procesos</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">pagina</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.log-paginas-visitadas"
               xreflabel="public.log_paginas_visitadas">
        <title id="public.table.log-paginas-visitadas-title">
         Table:
         <database class="view">log_paginas_visitadas</database>
         
        </title>
 

        <para>
          Log de las páginas a las que han accedido los usuarios
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">log_paginas_visitadas</database>
            </title>


            <varlistentry>
              <term><database class="field">log_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;sec_log_paginas_visitadas&apos;::regclass)</literal>





              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha de acceso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usuario</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Id del usuario que llamó a la página</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ip</database></term>
              <listitem><para>
                <database class="datatype">character varying(300)</database>







              </para>

              <para>Ip del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">pagina</database></term>
              <listitem><para>
                <database class="datatype">character varying(500)</database>







              </para>

              <para>página a la que se accedió</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.log-sesion"
               xreflabel="public.log_sesion">
        <title id="public.table.log-sesion-title">
         Table:
         <database class="view">log_sesion</database>
         
        </title>
 

        <para>
          Log de pérdidas de sesión
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">log_sesion</database>
            </title>


            <varlistentry>
              <term><database class="field">fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Fecha en la que se perdió la sesión</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usuario</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Id de la sesión o del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">descripcion</database></term>
              <listitem><para>
                <database class="datatype">character varying(300)</database>







              </para>

              <para>Descripción del motivo por el que se cerró la sesión</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.log-tiempo-ws-firma"
               xreflabel="public.log_tiempo_ws_firma">
        <title id="public.table.log-tiempo-ws-firma-title">
         Table:
         <database class="view">log_tiempo_ws_firma</database>
         
        </title>
 


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">log_tiempo_ws_firma</database>
            </title>


            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">t1</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">t2</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">t3</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">t4</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">t5</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">t6</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.log-usr-ciudadanos"
               xreflabel="public.log_usr_ciudadanos">
        <title id="public.table.log-usr-ciudadanos-title">
         Table:
         <database class="view">log_usr_ciudadanos</database>
         
        </title>
 

        <para>
          Log de modificaciones de las tablas usuarios, ciudadano, ciudadano_tmp y solicitud_firma
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">log_usr_ciudadanos</database>
            </title>


            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del usuario modificado</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_ori</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del usuario que realizó el cambio</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">logc_observacion</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Cambios realizados</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_cambio</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en la que se realizó el cambio</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">logc_tabla_modificada</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>1 ciudadanos,2 usuarios,3 solicitud_firma,4 ciudadano_tmp</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">id_transaccion</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Tipo de transacción (Insert o Update)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">logc_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;log_usr_ciudadanos_logc_codigo_seq&apos;::regclass)</literal>





              </para>

              <para>Id de la tabla</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.log-usr-permisos"
               xreflabel="public.log_usr_permisos">
        <title id="public.table.log-usr-permisos-title">
         Table:
         <database class="view">log_usr_permisos</database>
         
        </title>
 

        <para>
          Log de cambios en los permisos de los usuarios
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">log_usr_permisos</database>
            </title>


            <varlistentry>
              <term><database class="field">id_transaccion</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;log_user_permisos_id_transaccion_seq&apos;::regclass)</literal>





              </para>

              <para>Id de la tabla</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Código del usuario modificado</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_actualiza</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Código del usuario que realizó el cambio</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">accion</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Tipo de acción: asignar o quitar el permiso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">id_permiso</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del permiso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_actualiza</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en la que se realizó el cambio</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.log-view-usuario"
               xreflabel="public.log_view_usuario">
        <title id="public.table.log-view-usuario-title">
         Table:
         <database class="view">log_view_usuario</database>
         
        </title>
 

        <para>
          Log en el que se guardan los errores ocurridos al actualizar la vista materializada USUARIO
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">log_view_usuario</database>
            </title>


            <varlistentry>
              <term><database class="field">log_codi</database></term>
              <listitem><para>
                <database class="datatype">bigserial</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id de la tabla</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha de en la que se actualizó el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">tabla</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Tabla que fue modificada</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">accion</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Acción realizada (Insert o Update)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">codigo</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del usuario, ciudadano, institución, área o ciudad</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">error</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Descripción del error ocurrido</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">corregido</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Bandera que indica si se tomaron acciones para corregir el error en los datos de la vista</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.mail-notificacion"
               xreflabel="public.mail_notificacion">
        <title id="public.table.mail-notificacion-title">
         Table:
         <database class="view">mail_notificacion</database>
         
        </title>
 

        <para>
          Envío de correos electrónicos a los usuarios de Quipux
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">mail_notificacion</database>
            </title>


            <varlistentry>
              <term><database class="field">mail_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;sec_mail_notificacion&apos;::regclass)</literal>





              </para>

              <para>Id de la tabla</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_registro</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en la que se redactó el correo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_envio</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en la que se envió el correo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_remite</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del usuarrio remitente</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">asunto</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Asunto del mensaje</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">mensaje</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Texto del correo en formato HTML</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Estado del envío</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.metadatos"
               xreflabel="public.metadatos">
        <title id="public.table.metadatos-title">
         Table:
         <database class="view">metadatos</database>
         
        </title>
 

        <para>
          Almacena una categoría de datos a manera de árbol por cada institución.
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">metadatos</database>
            </title>


            <varlistentry>
              <term><database class="field">met_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id primario.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">met_padre</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







                <database class="constraint">NOT NULL</database>






                <database class="constraint">REFERENCES <xref linkend="public.table.metadatos"/></database>


              </para>

              <para>Id del metadato al cual pertenece el registro actual.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id de la Institución al que pertenece el metadato.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.dependencia"/></database>


              </para>

              <para>Id de la dependencia a la que pertenece el metadato.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">met_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(250)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Indica el nombre del metadato</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">met_nivel</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Indica el nivel en el que se encuentra dentro del árbol</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">met_estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Indica si el metadato está activo</para>

            </listitem>
          </varlistentry>

        </variablelist>







        <itemizedlist>
          <title>
            Tables referencing metadatos via Foreign Key Constraints
          </title>

          <listitem>
            <para>
              <xref linkend="public.table.metadatos"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.metadatos-radicado"/>
            </para>
          </listitem>

        </itemizedlist>






      </para>
    </section>

      <section id="public.table.metadatos-radicado"
               xreflabel="public.metadatos_radicado">
        <title id="public.table.metadatos-radicado-title">
         Table:
         <database class="view">metadatos_radicado</database>
         
        </title>
 

        <para>
          Almacena el metadato utilizado por cada documento en la respectiva dependencia.
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">metadatos_radicado</database>
            </title>


            <varlistentry>
              <term><database class="field">met_radi_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;sec_metadatos_radi&apos;::regclass)</literal>





              </para>

              <para>Id primario.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>







                <database class="constraint">NOT NULL</database>






                <database class="constraint">REFERENCES <xref linkend="public.table.radicado"/></database>


              </para>

              <para>Id del documento asociado con el metadato.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">met_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







                <database class="constraint">NOT NULL</database>






                <database class="constraint">REFERENCES <xref linkend="public.table.metadatos"/></database>


              </para>

              <para>Id del metadato.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.dependencia"/></database>


              </para>

              <para>Id de la dependencia.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.usuarios"/></database>


              </para>

              <para>Id del usuario que asocia el metadato al documento.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">texto</database></term>
              <listitem><para>
                <database class="datatype">character varying(250)</database>







              </para>

              <para>Descripción personalizada que ingresa el usuario, como adicional al metadato.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">metadato</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Descripción del metadato seleccionado.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">metadato_texto</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Descripción del metadato seleccionado y el texto ingresado por el usuario.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">metadato_codi</database></term>
              <listitem><para>
                <database class="datatype">character varying(250)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Id&apos;s de los metadatos seleccionados separados por (,) como respaldo.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en la que se asocia el metadato al documento.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">estado</database></term>
              <listitem><para>
                <database class="datatype">integer</database>





                <literal>DEFAULT 1</literal>



              </para>

              <para>Estado para eliminado lógico de registro. 1: True o Activo, 2: False o Inactivo.</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.view.nombres-usuarios"
               xreflabel="public.nombres_usuarios">
        <title id="public.view.nombres-usuarios-title">
         View:
         <database class="table">nombres_usuarios</database>
         
        </title>
 


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">nombres_usuarios</database>
            </title>


            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_nombre</database></term>
              <listitem><para>
                <database class="datatype">text</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_cedula</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_esta</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

        </variablelist>








        <figure>
         <title>Definition of view nombres_usuarios</title>
         <programlisting>
SELECT usuarios.usua_codi
,
    
(
     (
           (COALESCE
                 (usuarios.usua_nomb
                       ,&apos;&apos;::character varying
                 )
           )::text || &apos; &apos;::text
     ) || 
     (COALESCE
           (usuarios.usua_apellido
                 ,&apos;&apos;::character varying
           )
     )::text
) AS usua_nombre
,
    usuarios.usua_cedula
,
    usuarios.depe_codi
,
    usuarios.inst_codi
,
    usuarios.usua_esta
   
FROM usuarios
  
WHERE (usuarios.usua_codi &gt; 0)
UNION ALL
 
SELECT ciudadano.ciu_codigo AS usua_codi
,
    
(
     (
           (COALESCE
                 (ciudadano.ciu_nombre
                       ,&apos;&apos;::character varying
                 )
           )::text || &apos; &apos;::text
     ) || 
     (COALESCE
           (ciudadano.ciu_apellido
                 ,&apos;&apos;::character varying
           )
     )::text
) AS usua_nombre
,
    ciudadano.ciu_cedula AS usua_cedula
,
    0 AS depe_codi
,
    0 AS inst_codi
,
    ciudadano.ciu_estado AS usua_esta
   
FROM ciudadano;</programlisting>
        </figure>



      </para>
    </section>

      <section id="public.table.opciones-impresion"
               xreflabel="public.opciones_impresion">
        <title id="public.table.opciones-impresion-title">
         Table:
         <database class="view">opciones_impresion</database>
         
        </title>
 

        <para>
          Guarda los datos de las opciones de impresión
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">opciones_impresion</database>
            </title>


            <varlistentry>
              <term><database class="field">opc_imp_codi</database></term>
              <listitem><para>
                <database class="datatype">serial</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Id del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_ocultar_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Oculta el número de documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_mostrar_para</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Pone los datos del destinatario al pie de página</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_justificar_firma</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Pone los datos del firmante centrados o a la izquierda</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_titulo_natural</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Modifica el título del destinatario (solo para imprimir)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_ext_institucion</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Añade un texto al final del nombre de la institución</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_destino_destinatario</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Ubicación geográfica del destinatario, va como parte del saludo (Ejm: Presente, En su despacho, Ciudad, etc.)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_frase_remitente</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Frase del remitente (Ejm: DIOS, PATRIA Y LIBERTAD)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_despedida</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Frase de despedida (Ejm: &quot;Atentamente,&quot;)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_firmantes</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Añade un texto al final del nombre del destinatario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_ocultar_frase_rem</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Oculta la frase del remitente</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_cargo_cabecera</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Modifica el cargo del destinatario (solo para imprimir)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_tipo_nota</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Indica que tipo de nota consular es:
0 - Verbal
1 - Diplomática
2 - Reversal</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_justificar_fecha</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>





                <literal>DEFAULT 2</literal>



              </para>

              <para>Campo en deshuso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_ocultar_asunto</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Oculta la línea del asunto</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_letra_italica</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Imprime el documento con letra cursiva</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_ocultar_atentamente</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Oculta la frase de despedida</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_ocultar_anexo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Oculta las líneas de anexos</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_ocultar_referencia</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Oculta las referencias</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_ocultar_sumillas</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Oculta las sumillas de los responsables de la elaboración del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_texto_sobre</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Campo en deshuso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_ciudad_dado_en</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on opciones_impresion</title>

          <varlistentry>
            <term>idx_opciones_impresion_radi_nume_radi</term>
            <listitem><para>radi_nume_radi</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>

      <section id="public.table.opciones-impresion-sobre"
               xreflabel="public.opciones_impresion_sobre">
        <title id="public.table.opciones-impresion-sobre-title">
         Table:
         <database class="view">opciones_impresion_sobre</database>
         
        </title>
 

        <para>
          Datos para la impresión de sobres
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">opciones_impresion_sobre</database>
            </title>


            <varlistentry>
              <term><database class="field">opc_imp_sob_codi</database></term>
              <listitem><para>
                <database class="datatype">serial</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>







              </para>

              <para>Id del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del usuario responsable</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_sob_direccion</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Dirección del destinatario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_sob_ciudad</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Ciudad del destinatario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">opc_imp_sob_telefono</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Teléfono del destinatario</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on opciones_impresion_sobre</title>

          <varlistentry>
            <term>pk_opciones_impresionsobre</term>
            <listitem><para>opc_imp_sob_codi) WITH (fillfactor=90</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>

      <section id="public.table.permiso"
               xreflabel="public.permiso">
        <title id="public.table.permiso-title">
         Table:
         <database class="view">permiso</database>
         
        </title>
 

        <para>
          Catálogo de los permisos de los usuarios en el sistema
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">permiso</database>
            </title>


            <varlistentry>
              <term><database class="field">id_permiso</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;permisos_id_permiso_seq&apos;::regclass)</literal>





              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">descripcion</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Descripción corta del permiso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Estado:
0 = Inactivo
1 = Activo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">orden</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Orden en el que deben aparecer los permisos en la pantalla de administración</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Nombre del permiso con el que se lo llama en el sistema (se carga en variables de sesión 1 ó 0)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">descripcion_larga</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>descripción larga del permiso y de la funcionalidad a la que está asociada en el sistema</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">perfil</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Modo en el que se agrupan los permisos en el sistema
0 = General
1 = Asisntentes o Secretarias
2 = Jefes
3 = Bandeja de entrada
4 = Administrador</para>

            </listitem>
          </varlistentry>

        </variablelist>







        <itemizedlist>
          <title>
            Tables referencing permiso_usuario via Foreign Key Constraints
          </title>

          <listitem>
            <para>
              <xref linkend="public.table.permiso-usuario"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.permiso-usuario-dep"/>
            </para>
          </listitem>

        </itemizedlist>






      </para>
    </section>

      <section id="public.table.permiso-usuario"
               xreflabel="public.permiso_usuario">
        <title id="public.table.permiso-usuario-title">
         Table:
         <database class="view">permiso_usuario</database>
         
        </title>
 

        <para>
          Relación entre la tabla de permisos y de usuarios
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">permiso_usuario</database>
            </title>


            <varlistentry>
              <term><database class="field">id_permiso</database></term>
              <listitem><para>
                <database class="datatype">integer</database>






                <database class="constraint">PRIMARY KEY</database>











                <database class="constraint">REFERENCES <xref linkend="public.table.permiso"/></database>




              </para>

              <para>Id del permiso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>






                <database class="constraint">PRIMARY KEY</database>











                <database class="constraint">REFERENCES <xref linkend="public.table.usuarios"/></database>




              </para>

              <para>Id del usuario</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on permiso_usuario</title>

          <varlistentry>
            <term>idx_permiso_usuario_usua_codi</term>
            <listitem><para>usua_codi</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>

      <section id="public.table.permiso-usuario-dep"
               xreflabel="public.permiso_usuario_dep">
        <title id="public.table.permiso-usuario-dep-title">
         Table:
         <database class="view">permiso_usuario_dep</database>
         
        </title>
 

        <para>
          Lista de usuarios que tienen el permiso de aprobar solicitudes de respaldo de documentos
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">permiso_usuario_dep</database>
            </title>


            <varlistentry>
              <term><database class="field">id_permiso</database></term>
              <listitem><para>
                <database class="datatype">integer</database>






                <database class="constraint">PRIMARY KEY</database>











                <database class="constraint">REFERENCES <xref linkend="public.table.permiso"/></database>




              </para>

              <para>Id del permiso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







                <database class="constraint">NOT NULL</database>






                <database class="constraint">REFERENCES <xref linkend="public.table.usuarios"/></database>


              </para>

              <para>Id del usuario que tiene el permiso de aprobar las solicitudes de respaldo para los usuarios del área</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>






                <database class="constraint">PRIMARY KEY</database>











                <database class="constraint">REFERENCES <xref linkend="public.table.dependencia"/></database>




              </para>

              <para>Id del área</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.view.pg-buffercache"
               xreflabel="public.pg_buffercache">
        <title id="public.view.pg-buffercache-title">
         View:
         <database class="table">pg_buffercache</database>
         
        </title>
 


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">pg_buffercache</database>
            </title>


            <varlistentry>
              <term><database class="field">bufferid</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">relfilenode</database></term>
              <listitem><para>
                <database class="datatype">oid</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">reltablespace</database></term>
              <listitem><para>
                <database class="datatype">oid</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">reldatabase</database></term>
              <listitem><para>
                <database class="datatype">oid</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">relforknumber</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">relblocknumber</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">isdirty</database></term>
              <listitem><para>
                <database class="datatype">boolean</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usagecount</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

            </listitem>
          </varlistentry>

        </variablelist>








        <figure>
         <title>Definition of view pg_buffercache</title>
         <programlisting>
SELECT p.bufferid
,
    p.relfilenode
,
    p.reltablespace
,
    p.reldatabase
,
    p.relforknumber
,
    p.relblocknumber
,
    p.isdirty
,
    p.usagecount
   
FROM pg_buffercache_pages
() p
(bufferid integer
     , relfilenode oid
     , reltablespace oid
     , reldatabase oid
     , relforknumber smallint
     , relblocknumber bigint
     , isdirty boolean
     , usagecount smallint
);</programlisting>
        </figure>



      </para>
    </section>

      <section id="public.table.radi-texto"
               xreflabel="public.radi_texto">
        <title id="public.table.radi-texto-title">
         Table:
         <database class="view">radi_texto</database>
         
        </title>
 

        <para>
          Texto del documento; se mantienen las diferentes versiones del mismo
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">radi_texto</database>
            </title>


            <varlistentry>
              <term><database class="field">text_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.radicado"/></database>


              </para>

              <para>Id del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">text_fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>fecha de creación</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">text_texto</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Texto del documento</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on radi_texto</title>

          <varlistentry>
            <term>fki_radi_texto_radi_nume_radi</term>
            <listitem><para>radi_nume_radi) WITH (fillfactor=98</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>

      <section id="public.table.radicado"
               xreflabel="public.radicado">
        <title id="public.table.radicado-title">
         Table:
         <database class="view">radicado</database>
         
        </title>
 

        <para>
          Información de los documentos registrados
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">radicado</database>
            </title>


            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_text</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Número del documento según el formato definido en la institución</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_temp</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>







                <database class="constraint">NOT NULL</database>






                <database class="constraint">REFERENCES <xref linkend="public.table.radicado"/></database>


              </para>

              <para>Id del documento padre (desde el que se generan las copias para cada destinatario)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_fech_radi</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Fecha en la que se creó el documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_fech_ofic</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en la que se firma y se envía el documento o fecha de referencia en el caso de documentos externos</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_deri</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.radicado"/></database>


              </para>

              <para>Id del documento al cual se encuentra asociado el documento actual (responder)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_path</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>Path donde se encuentra el archivo PDF en la bodega</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">esta_codi</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.estado"/></database>


              </para>

              <para>Estado en el que se encuentra el documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_usua_actu</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.usuarios"/></database>


              </para>

              <para>Id del usuario actual del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_fech_asig</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha máxima para realización de trámite cuando se reasigna un documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_leido</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>bandera que indica si el documento ya fue leido</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_fech_agend</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Campo en desuso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_cca</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Lista de usuarios para enviar copias, se separan por guiones (-id1--id2-)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_cuentai</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Numero de referencia del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_asunto</database></term>
              <listitem><para>
                <database class="datatype">character varying(350)</database>







              </para>

              <para>Asunto del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_resumen</database></term>
              <listitem><para>
                <database class="datatype">character varying(1000)</database>







              </para>

              <para>Notas adicionales al documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_desc_anex</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Descripción general de los anexos</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_flag_impr</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Campo en desuso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_texto</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id de la version del texto del documento que se está utilizando</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_tipo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.tiporad"/></database>


              </para>

              <para>Tipo de documento (memo, oficio, etc.)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_usua_rem</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Lista de usuarios remitentes del documento; se separan por guiones (-id1--id2-)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_usua_ante</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.usuarios"/></database>


              </para>

              <para>Id del usuario anterior del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_usua_dest</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Lista de usuarios destinatarios del documento; se separan por guiones (-id1--id2-)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_usua_radi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.usuarios"/></database>


              </para>

              <para>Id del usuario que registro el documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_permiso</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>nivel de seguridad del documento (publico o confidencial)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nomb_usua_firma</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Datos de la firma electrónica del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_fech_firma</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en que se firmó electrónicamente el documento (cuando se validó en quipux)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_inst_actu</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.institucion"/></database>


              </para>

              <para>Institucion actual del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_archivo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Indica si el documento se encuentra archivado físicamente</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usar_plantilla</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Bandera que indica si el documento se generará con una plantilla o en una hoja en blanco</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ajust_texto</database></term>
              <listitem><para>
                <database class="datatype">integer</database>





                <literal>DEFAULT 100</literal>



              </para>

              <para>Determina si el archivo se comprime o se expande (Tamaño de letra)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_tipo_impresion</database></term>
              <listitem><para>
                <database class="datatype">character varying(1)</database>





                <literal>DEFAULT 1</literal>



              </para>

              <para>Opciones de impresión - Modo de impresión de los datos del destinatario (combo)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_lista_dest</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Listado de las listas de usuarios seleccionadas para el envío de los documentos</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_tipo_archivo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Define si el archivo de la imagen del documento (almacenado en radi_path) es temporal (generada por el sistema y no firmada) o definitiva.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">cod_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Id de la codificación del documento (tipificación)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">cat_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Id de la categoría del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_ocultar_recorrido</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Indica si se ocultará el recorrido del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_usua_redirigido</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Id del usuario al que se redirigirá el documento (registro de documentos externos)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_text_temp</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Número temporal del documento que se le asigno mientras estaba en elaboración</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_asoc</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>







              </para>

              <para>Id del documento antecedente (documentos asociados)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">arch_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Código del archivo almacenado en la BDD de documentos</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">arch_codi_firma</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Código del archivo firmado electrónicamente, almacenado en la BDD de documentos</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_imagen</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Código del anexo cargado como imágen digitalizada</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on radicado</title>

          <varlistentry>
            <term>fki_radicado_radi_tipo</term>
            <listitem><para>radi_tipo) WITH (fillfactor=80</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_fechradi_usuaactu_estacodi_instactu_fechaden_estacodi</term>
            <listitem><para>radi_fech_radi, radi_usua_actu, esta_codi, radi_inst_actu, radi_fech_agend) WITH (fillfactor=80</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_radi_nume_asoc_radi_nume_radi_esta_codi</term>
            <listitem><para>radi_nume_asoc, radi_nume_radi, esta_codi</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_radicado_esta_codi</term>
            <listitem><para>esta_codi) WITH (fillfactor=80</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_radicado_inst_actu</term>
            <listitem><para>radi_inst_actu) WITH (fillfactor=80</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_radicado_radi_cca_array</term>
            <listitem><para>string_to_array(btrim((radi_cca)::text, &apos;-&apos;::text), &apos;--&apos;::text)</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_radicado_radi_fech_ofic_radi_fech_firma</term>
            <listitem><para>radi_fech_ofic, radi_fech_firma) WITH (fillfactor=80</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_radicado_radi_fech_radi</term>
            <listitem><para>radi_fech_radi) WITH (fillfactor=80</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_radicado_radi_inst_actu_radi_usua_actu_esta_codi</term>
            <listitem><para>radi_inst_actu, radi_usua_actu, esta_codi) WITH (fillfactor=80</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_radicado_radi_nume_deri</term>
            <listitem><para>radi_nume_deri</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_radicado_radi_nume_temp</term>
            <listitem><para>radi_nume_temp) WITH (fillfactor=80</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_radicado_radi_nume_temp_radi_inst_actu_radi_usua_actu</term>
            <listitem><para>radi_nume_temp, radi_inst_actu, radi_usua_actu) WITH (fillfactor=80</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_radicado_radi_usua_actu</term>
            <listitem><para>radi_usua_actu) WITH (fillfactor=80</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_radicado_radi_usua_dest_array</term>
            <listitem><para>string_to_array(btrim((radi_usua_dest)::text, &apos;-&apos;::text), &apos;--&apos;::text)</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_radicado_radi_usua_rem</term>
            <listitem><para>radi_usua_rem gin_trgm_ops</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_radicado_radi_usua_rem_array</term>
            <listitem><para>string_to_array(btrim((radi_usua_rem)::text, &apos;-&apos;::text), &apos;--&apos;::text)</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_radinumtex</term>
            <listitem><para>radi_nume_text) WITH (fillfactor=80</para></listitem>
          </varlistentry>

        </variablelist>





        <itemizedlist>
          <title>
            Tables referencing anexos via Foreign Key Constraints
          </title>

          <listitem>
            <para>
              <xref linkend="public.table.anexos"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.archivo-radicado"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.hist-eventos"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.informados"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.metadatos-radicado"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.radi-texto"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.radicado"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.respaldo-solicitud"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.respaldo-usuario-radicado"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.tarea"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.tarea-hist-eventos"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.tarea-radi-respuesta"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.trd-radicado"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.usuarios-radicado"/>
            </para>
          </listitem>

        </itemizedlist>






      </para>
    </section>

      <section id="public.table.radicado-sec-temp"
               xreflabel="public.radicado_sec_temp">
        <title id="public.table.radicado-sec-temp-title">
         Table:
         <database class="view">radicado_sec_temp</database>
         
        </title>
 

        <para>
          Se guardan las secuencias para los numeros temporales de los radicados
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">radicado_sec_temp</database>
            </title>


            <varlistentry>
              <term><database class="field">depe_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Área a la que pertenece la secuencia</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">secuencia</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Valor actual de la secuencia</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.respaldo-estado"
               xreflabel="public.respaldo_estado">
        <title id="public.table.respaldo-estado-title">
         Table:
         <database class="view">respaldo_estado</database>
         
        </title>
 

        <para>
          Tabla de estados utilizada para solicitudes y ejecución de respaldos.
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">respaldo_estado</database>
            </title>


            <varlistentry>
              <term><database class="field">est_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id primario.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">est_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(40)</database>







              </para>

              <para>Nombre del estado para uso interno de programación.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">est_nombre_estado</database></term>
              <listitem><para>
                <database class="datatype">character varying(40)</database>







              </para>

              <para>Nombre de estado para mostrar al usuario.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">est_desc</database></term>
              <listitem><para>
                <database class="datatype">character varying(300)</database>







              </para>

              <para>Descripción del significado de estado.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">est_tipo</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Tipo de estado. 1: Estado de la solicitud, 2: Estado de la ejecución del respaldo.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">est_estado</database></term>
              <listitem><para>
                <database class="datatype">integer</database>





                <literal>DEFAULT 1</literal>



              </para>

              <para>Estado del registro para realizar eliminado lógico. 1: Es True o Activo, 0: False o Inactivo.</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.respaldo-hist-eventos"
               xreflabel="public.respaldo_hist_eventos">
        <title id="public.table.respaldo-hist-eventos-title">
         Table:
         <database class="view">respaldo_hist_eventos</database>
         
        </title>
 

        <para>
          Tabla que contiene el historial de todas las acciones realizadas sobre la tabla respaldo.
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">respaldo_hist_eventos</database>
            </title>


            <varlistentry>
              <term><database class="field">resp_hist_eventos</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;sec_resp_hist_eventos&apos;::regclass)</literal>





              </para>

              <para>Id primario.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">resp_soli_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Id de solicitud de respaldo.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Id del usuario que realiza la acción.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en que se realiza la acción.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">accion</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id de la acción, según el catálogo con las transacciones.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">comentario</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Descripción de la acción o comentario ingresado por el usuario.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">estado_solicitud</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del estado de la solicitud de respaldo.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">estado_respaldo</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del estado de la ejecución de respaldo.</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.respaldo-solicitud"
               xreflabel="public.respaldo_solicitud">
        <title id="public.table.respaldo-solicitud-title">
         Table:
         <database class="view">respaldo_solicitud</database>
         
        </title>
 

        <para>
          Tabla que contiene las solicitudes de respaldo de documentos.
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">respaldo_solicitud</database>
            </title>


            <varlistentry>
              <term><database class="field">resp_soli_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;sec_respaldo_solicitud&apos;::regclass)</literal>





              </para>

              <para>Id primario.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">resp_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Id de la tabla respaldo usuario.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_solicita</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Id del usuario que solicita el respaldo.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_autoriza</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Id del usuario que autoriza la solicitud de respaldo.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_accion</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Id del usuario que actualiza la solicitud.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_solicita</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha de la solicitud de respaldo.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_inicio_doc</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha de inicial de documentos a respaldar.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_fin_doc</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha de final de documentos a respaldar.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_inicio_ejec</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha  en que se inicia el proceso de ejecución de respaldos.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_fin_ejec</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha  en que se termina el proceso de ejecución de respaldos.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">estado_solicitud</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del estado de la solicitud de respaldo.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">estado_respaldo</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del estado de la solicitud de la ejecución del respaldo.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">comentario</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Campo para ingresar el comentario del usuario.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">num_documentos</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Cantidad de documentos respaldados.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_ejecutar</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en la que se ejecutará el proceso de obtención de respaldos.</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.radicado"/></database>


              </para>

              <para>Id del documento asociado con el cual se solicita los respaldos.</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.respaldo-usuario"
               xreflabel="public.respaldo_usuario">
        <title id="public.table.respaldo-usuario-title">
         Table:
         <database class="view">respaldo_usuario</database>
         
        </title>
 

        <para>
          Backups de los documentos generados por los usuarios
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">respaldo_usuario</database>
            </title>


            <varlistentry>
              <term><database class="field">resp_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;sec_respaldo_usuario&apos;::regclass)</literal>





              </para>

              <para>Id del respaldo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.usuarios"/></database>


              </para>

              <para>Id del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_solicita</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Id del usuario que solicita el respaldo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_solicita</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en la que se solicitó el respaldo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_inicio</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en que inició el proceso de backup</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_fin</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>fecha en la que finalizó el proceso de backup</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">num_documentos</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>número de documentos a respaldar</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_eliminado</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en la que se eliminó el respaldo</para>

            </listitem>
          </varlistentry>

        </variablelist>







        <itemizedlist>
          <title>
            Tables referencing respaldo_usuario_radicado via Foreign Key Constraints
          </title>

          <listitem>
            <para>
              <xref linkend="public.table.respaldo-usuario-radicado"/>
            </para>
          </listitem>

        </itemizedlist>






      </para>
    </section>

      <section id="public.table.respaldo-usuario-radicado"
               xreflabel="public.respaldo_usuario_radicado">
        <title id="public.table.respaldo-usuario-radicado-title">
         Table:
         <database class="view">respaldo_usuario_radicado</database>
         
        </title>
 

        <para>
          Tabla temporal en la que se guardan los documentos a respaldar
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">respaldo_usuario_radicado</database>
            </title>


            <varlistentry>
              <term><database class="field">resp_radi_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;sec_respaldo_usuario_radicado&apos;::regclass)</literal>





              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">resp_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.respaldo-usuario"/></database>


              </para>

              <para>Id del respaldo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.radicado"/></database>


              </para>

              <para>Id del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fila</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Se guarda el codigo html con los datos del documento para crear los archivos índices</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">error</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Si hubo algun error al sacar el respaldo se guarda un detalle</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">num_error</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Numero de veces que se genero un error en el documento, el sistema intenta respaldar por 3 veces cada documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">tipo</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Segun la bandeja donde debe estar
1 - Recibidos
2 – Enviados</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on respaldo_usuario_radicado</title>

          <varlistentry>
            <term>idx_respaldo_usuario_radicado_radi_nume_radi</term>
            <listitem><para>radi_nume_radi</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_respaldo_usuario_radicado_resp_codi</term>
            <listitem><para>resp_codi</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>

      <section id="public.table.sgd-ttr-transaccion"
               xreflabel="public.sgd_ttr_transaccion">
        <title id="public.table.sgd-ttr-transaccion-title">
         Table:
         <database class="view">sgd_ttr_transaccion</database>
         
        </title>
 

        <para>
          Catálogo con las transacciones que se pueden realizar con cada documento
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">sgd_ttr_transaccion</database>
            </title>


            <varlistentry>
              <term><database class="field">sgd_ttr_codigo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id de la transacción</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sgd_ttr_descrip</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Detalle de la transacción</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on sgd_ttr_transaccion</title>

          <varlistentry>
            <term>idx_sgd_ttr_trans</term>
            <listitem><para>sgd_ttr_codigo) WITH (fillfactor=90</para></listitem>
          </varlistentry>

        </variablelist>





        <itemizedlist>
          <title>
            Tables referencing hist_eventos via Foreign Key Constraints
          </title>

          <listitem>
            <para>
              <xref linkend="public.table.hist-eventos"/>
            </para>
          </listitem>

        </itemizedlist>






      </para>
    </section>

      <section id="public.table.solicitud-firma-ciudadano"
               xreflabel="public.solicitud_firma_ciudadano">
        <title id="public.table.solicitud-firma-ciudadano-title">
         Table:
         <database class="view">solicitud_firma_ciudadano</database>
         
        </title>
 

        <para>
          Contiene las solicitudes de ciudadanos que desean utilizar el sistema Quipux para envío de documentación electrónica a las instituciones (debe tener firma digital)
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">solicitud_firma_ciudadano</database>
            </title>


            <varlistentry>
              <term><database class="field">sol_codigo</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval((&apos;public.solicitud_usua_codi_seq&apos;::text)::regclass)</literal>





              </para>

              <para>Id de la solicitud</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_codigo</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del ciudadano</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sol_observaciones</database></term>
              <listitem><para>
                <database class="datatype">character varying(700)</database>







              </para>

              <para>Observaciones adicionales</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sol_firma</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Tipo de certificado de firma electrónica</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sol_estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Estado de la solicitud</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sol_planilla</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Indica si cargó el archivo de la planilla de servicios</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sol_cedula</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Indica si subió archivo con la copia de la cédula</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sol_acuerdo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Indica si subió el archivo con el acuerdo firmado electrónicamente</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sol_planilla_estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Indica si el administrador validó el archivo planilla subido</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sol_cedula_estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Indica si el administrador validó el archivo cédula subido</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sol_acuerdo_estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Indica si el administrador validó el archivo acuerdo subido</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>Nombre del ciudadano</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_direccion</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>Dirección domicilaria</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_empresa</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>Nombre de la empresa</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_cargo</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>Cargo que desempeña en su empresa</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_apellido</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>Apellido del ciudadano</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_cedula</database></term>
              <listitem><para>
                <database class="datatype">character varying(25)</database>







              </para>

              <para>Número de cédula</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_telefono</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Número telefónico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_email</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Correo electrónico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_abr_titulo</database></term>
              <listitem><para>
                <database class="datatype">character varying(30)</database>







              </para>

              <para>Abreviación del título</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_titulo</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Tratamiento o título académico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_documento</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Informacion adicional si no se conoce la cédula</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciudad_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sol_fecha_envio</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">sol_fecha_autorizado</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_referencia</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.tarea"
               xreflabel="public.tarea">
        <title id="public.table.tarea-title">
         Table:
         <database class="view">tarea</database>
         
        </title>
 

        <para>
          Registra las tareas asignadas a los usuarios
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">tarea</database>
            </title>


            <varlistentry>
              <term><database class="field">tarea_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;sec_tarea&apos;::regclass)</literal>





              </para>

              <para>Id de la tarea</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.radicado"/></database>


              </para>

              <para>Id del docuemnto del que depende la tarea</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_inicio</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en la que se asignó la tarea</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_fin</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en la que se finalizó o canceló la tarea</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha_maxima</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha máxima asignada para la resolución de la tarea</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_ori</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.usuarios"/></database>


              </para>

              <para>Id del usuario que asignó la tarea</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_dest</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.usuarios"/></database>


              </para>

              <para>Id del usuario al que le asignaron la tarea</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>estado de la tarea</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">tarea_codi_padre</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.tarea"/></database>


              </para>

              <para>Id de la tarea padre en caso de que se haya asignado una tarea a partir de otra tarea</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">leido</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Indica si la tarea ya fue leida</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">avance</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Registra el porcentaje de avance de la tarea</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">comentario_fin</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Registra el id del último comentario realizado sobre la tarea</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">comentario_inicio</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Registra el id del primer comentario de la tarea</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on tarea</title>

          <varlistentry>
            <term>idx_tarea_estado</term>
            <listitem><para>estado</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_tarea_radi_nume_radi</term>
            <listitem><para>radi_nume_radi</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_tarea_usua_codi_ori</term>
            <listitem><para>usua_codi_ori</para></listitem>
          </varlistentry>

        </variablelist>





        <itemizedlist>
          <title>
            Tables referencing tarea via Foreign Key Constraints
          </title>

          <listitem>
            <para>
              <xref linkend="public.table.tarea"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.tarea-hist-eventos"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.tarea-radi-respuesta"/>
            </para>
          </listitem>

        </itemizedlist>






      </para>
    </section>

      <section id="public.table.tarea-hist-eventos"
               xreflabel="public.tarea_hist_eventos">
        <title id="public.table.tarea-hist-eventos-title">
         Table:
         <database class="view">tarea_hist_eventos</database>
         
        </title>
 

        <para>
          Recorrido de las tareas
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">tarea_hist_eventos</database>
            </title>


            <varlistentry>
              <term><database class="field">tarea_hist_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;sec_tarea_hist_eventos&apos;::regclass)</literal>





              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">tarea_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.tarea"/></database>


              </para>

              <para>Id de la tarea</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.radicado"/></database>


              </para>

              <para>Id del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_ori</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.usuarios"/></database>


              </para>

              <para>Id del usuario que realizó la acción</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha de la acción</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">accion</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id de la transacción realizada</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">comentario</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Comentario realizado por el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">referencia</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Campo adicional para guardar códigos o fechas o datos adicionales dependiendo de la transacción</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.tarea-radi-respuesta"
               xreflabel="public.tarea_radi_respuesta">
        <title id="public.table.tarea-radi-respuesta-title">
         Table:
         <database class="view">tarea_radi_respuesta</database>
         
        </title>
 

        <para>
          Asociación de documentos cuando se responde a un documento a partir de una tarea
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">tarea_radi_respuesta</database>
            </title>


            <varlistentry>
              <term><database class="field">tarea_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.tarea"/></database>


              </para>

              <para>Id de la tarea</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.radicado"/></database>


              </para>

              <para>Id del documento padre</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_nume_resp</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.radicado"/></database>


              </para>

              <para>Id del documento respuesta</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">tarea_resp_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;sec_tarea_hist_eventos&apos;::regclass)</literal>





              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.tipo-certificado"
               xreflabel="public.tipo_certificado">
        <title id="public.table.tipo-certificado-title">
         Table:
         <database class="view">tipo_certificado</database>
         
        </title>
 

        <para>
          Almacena los tipos de certificados permitidos (depende de la CA, el dispositivo, el formato, etc.)
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">tipo_certificado</database>
            </title>


            <varlistentry>
              <term><database class="field">tipo_cert_codi</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">descripcion</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>Descripción del tipo de certificado</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>





                <literal>DEFAULT 1</literal>



              </para>

              <para>Estado:
1 - Activo
0 - Inactivo</para>

            </listitem>
          </varlistentry>

        </variablelist>







        <itemizedlist>
          <title>
            Tables referencing usuarios via Foreign Key Constraints
          </title>

          <listitem>
            <para>
              <xref linkend="public.table.usuarios"/>
            </para>
          </listitem>

        </itemizedlist>






      </para>
    </section>

      <section id="public.table.tiporad"
               xreflabel="public.tiporad">
        <title id="public.table.tiporad-title">
         Table:
         <database class="view">tiporad</database>
         
        </title>
 

        <para>
          Tipo de documento
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">tiporad</database>
            </title>


            <varlistentry>
              <term><database class="field">trad_codigo</database></term>
              <listitem><para>
                <database class="datatype">numeric(1,0)</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id del tipo de documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trad_descr</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Nombre del documento (oficio, memo, etc.)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trad_tipo</database></term>
              <listitem><para>
                <database class="datatype">character varying(1)</database>







              </para>

              <para>Si es documento de entrada o de salida</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trad_inst_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Institución a la que pertenece el documento; &quot;0&quot; para todas las instituciones</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trad_estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>





                <literal>DEFAULT 1</literal>



              </para>

              <para>Estado, activo o inactivo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trad_abreviatura</database></term>
              <listitem><para>
                <database class="datatype">character varying(5)</database>







              </para>

              <para>Abreviatura por defecto para el tipo de documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trad_opc_impresion</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Opciones de impresión que se habilitan para cada documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trad_texto_inicio</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Texto que se carga por defecto al crear un nuevo documento de este tipo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trad_formato</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>formato del documento, se lo escribe en base a patrones que luego van a ser reemplazados con los datos del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trad_formato_tipo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>





                <literal>DEFAULT 1</literal>



              </para>

              <para>Carga ciertas opciones especiales para algunos documentos</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on tiporad</title>

          <varlistentry>
            <term>idx_tiporad</term>
            <listitem><para>trad_codigo) WITH (fillfactor=98</para></listitem>
          </varlistentry>

        </variablelist>





        <itemizedlist>
          <title>
            Tables referencing formato_numeracion via Foreign Key Constraints
          </title>

          <listitem>
            <para>
              <xref linkend="public.table.formato-numeracion"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.radicado"/>
            </para>
          </listitem>

        </itemizedlist>






      </para>
    </section>

      <section id="public.table.titulo"
               xreflabel="public.titulo">
        <title id="public.table.titulo-title">
         Table:
         <database class="view">titulo</database>
         
        </title>
 

        <para>
          Lista de títulos académicos admitidos en el sistema
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">titulo</database>
            </title>


            <varlistentry>
              <term><database class="field">tit_codi</database></term>
              <listitem><para>
                <database class="datatype">serial</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">tit_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Tratamiento o título académico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">tit_abreviatura</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Abreviatura del título</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on titulo</title>

          <varlistentry>
            <term>idx_tit_nombre</term>
            <listitem><para>tit_nombre) WITH (fillfactor=90</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>pk_titulo</term>
            <listitem><para>tit_codi) WITH (fillfactor=90</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>

      <section id="public.table.trd"
               xreflabel="public.trd">
        <title id="public.table.trd-title">
         Table:
         <database class="view">trd</database>
         
        </title>
 

        <para>
          Tabla recursiva, estructura de las carpetas virtuales
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">trd</database>
            </title>


            <varlistentry>
              <term><database class="field">trd_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id de la carpeta virtual</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trd_padre</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







                <database class="constraint">NOT NULL</database>






                <database class="constraint">REFERENCES <xref linkend="public.table.trd"/></database>


              </para>

              <para>Id de la carpeta padre</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trd_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Nombre de la carpeta</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.dependencia"/></database>


              </para>

              <para>Área a la que pertenece la carpeta</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trd_estado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Indica si la carpeta está activa</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trd_arch_gestion</database></term>
              <listitem><para>
                <database class="datatype">integer</database>





                <literal>DEFAULT 5</literal>



              </para>

              <para>Tiempo que debe mantenerse el documento en el archivo de gestion</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trd_arch_central</database></term>
              <listitem><para>
                <database class="datatype">integer</database>





                <literal>DEFAULT 15</literal>



              </para>

              <para>Tiempo que se deberá mantener el documento en el archivo central</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trd_fecha_desde</database></term>
              <listitem><para>
                <database class="datatype">date</database>







              </para>

              <para>Fecha desde la que se activó la carpeta</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trd_fecha_hasta</database></term>
              <listitem><para>
                <database class="datatype">date</database>







              </para>

              <para>Fecha en la que se cerró la carpeta</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trd_ocupado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Indica si el expediente ya se encuentra relacionado con un expediente fisico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trd_nivel</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Indica el nivel en el que se encuentra la carpeta virtual</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on trd</title>

          <varlistentry>
            <term>idx_trd_depe_codi</term>
            <listitem><para>depe_codi</para></listitem>
          </varlistentry>

        </variablelist>





        <itemizedlist>
          <title>
            Tables referencing trd via Foreign Key Constraints
          </title>

          <listitem>
            <para>
              <xref linkend="public.table.trd"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.trd-radicado"/>
            </para>
          </listitem>

        </itemizedlist>






      </para>
    </section>

      <section id="public.table.trd-nivel"
               xreflabel="public.trd_nivel">
        <title id="public.table.trd-nivel-title">
         Table:
         <database class="view">trd_nivel</database>
         
        </title>
 

        <para>
          Descripción de los niveles que tendrá la estructura de carpetas virtuales
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">trd_nivel</database>
            </title>


            <varlistentry>
              <term><database class="field">trd_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id del Item, es un secuencial dependiendo del area funcional</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Area funcional a la que pertenece el archivo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trd_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>Nombre del Item</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trd_descripcion</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Descripcion del Item</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.trd-radicado"
               xreflabel="public.trd_radicado">
        <title id="public.table.trd-radicado-title">
         Table:
         <database class="view">trd_radicado</database>
         
        </title>
 

        <para>
          Relación entre las carpetas virtuales y los documentos que se asocian a ellas
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">trd_radicado</database>
            </title>


            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>






                <database class="constraint">PRIMARY KEY</database>











                <database class="constraint">REFERENCES <xref linkend="public.table.radicado"/></database>




              </para>

              <para>Id del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">trd_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>






                <database class="constraint">PRIMARY KEY</database>











                <database class="constraint">REFERENCES <xref linkend="public.table.trd"/></database>




              </para>

              <para>Id de la carpeta</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.usuarios"/></database>


              </para>

              <para>Id del usuario que asoció el documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">fecha</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en la que se asoció el documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.dependencia"/></database>


              </para>

              <para>Área a la que pertenece la carpeta</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.usuario"
               xreflabel="public.usuario">
        <title id="public.table.usuario-title">
         Table:
         <database class="view">usuario</database>
         
        </title>
 

        <para>
          Vista materializada que contiene la unión de las tablas USUARIOS, CIUDADANO, INSTITUCION, DEPENDENCIA y CIUDAD.
Es actualizada por disparadores sobre las 5 tablas
Guarda cualquier error ocurrido en la tabla LOG_VIEW_USUARIO
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">usuario</database>
            </title>


            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id del usuario o ciudadano</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_cedula</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>No. de cédula</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_nomb</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Nombre del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_apellido</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Apellido del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_nombre</database></term>
              <listitem><para>
                <database class="datatype">text</database>







              </para>

              <para>Nombres y apellidos del usuario concatenados</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">cargo_tipo</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Tipo de cargo: 
- 0 normal  
- 1 jefe
- 2  asistente</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_cargo</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_nuevo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Determina si el usuario ya cambió su clave del sistema o si se debe enviar el email para cambio de clave</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_login</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Login del usuario (deben comenzar con &quot;U&quot;); existen usuarios especiales que comienzan con &apos;UUSR&apos; y &apos;UADM&apos;</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_pasw</database></term>
              <listitem><para>
                <database class="datatype">character varying(35)</database>







              </para>

              <para>Contraseña del usuario en md5</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_esta</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Estado del usuario, activo o inactivo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_email</database></term>
              <listitem><para>
                <database class="datatype">character varying(500)</database>







              </para>

              <para>Email, pueden ser varios separados por comas</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_titulo</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Tratamiento o título académico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_abr_titulo</database></term>
              <listitem><para>
                <database class="datatype">character varying(30)</database>







              </para>

              <para>Abreviacion del titulo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">tipo_usuario</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Tipo de usuario:
- 1 si es funcionario
- 2 si es ciudadano</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_tipo_certificado</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del tipo de certificado digital que posee</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_subrogado</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del usuario subrogado</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">visible_sub</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Indica si el usuario ha sido subrogado</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_cargo_cabecera</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Cargo que se muestra cuando se selecciona al usuario como destinatario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_direccion</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Dirección domiciliaria</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_telefono</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Número telefónico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_firma_path</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Path en el que se encuentra la imágen escaneada de la firma</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del área a la que pertenece el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_nomb</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Nombre del área a la que pertenece el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">dep_sigla</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Sigla del área a la que pertenece el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id de la institución a la que pertenece el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Nombre de la institución a la que pertenece el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_sigla</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Siglas de la institución a la que pertenece el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_estado</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Estado de la institución a la que pertenece el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id de la diudad del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_ciudad</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Nombre de la diudad del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">tipo_identificacion</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>0 cedula  1 pasaporte</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_datos</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Datos concatenados del usuario sin tildes ni eñes y en mayúsculas (cédula, nombres, apellidos, título, cargo, email, área, institución, siglas)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_adscrita</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id de la institución adscrita</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_padre_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Nombre de la institución adscrita</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_padre_sigla</database></term>
              <listitem><para>
                <database class="datatype">character varying(10)</database>







              </para>

              <para>Siglas de la institución adscrita</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on usuario</title>

          <varlistentry>
            <term>idx_usuario_depe_codi</term>
            <listitem><para>depe_codi</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_usuario_inst_codi_gt0</term>
            <listitem><para>inst_codi) WHERE (inst_codi &gt; 0</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_usuario_usua_cedula</term>
            <listitem><para>usua_cedula</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_usuario_usua_datos</term>
            <listitem><para>usua_datos gin_trgm_ops</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_usuario_usua_login</term>
            <listitem><para>usua_login</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_usuario_usua_nombre</term>
            <listitem><para>usua_nombre</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>

      <section id="public.table.usuario-dependencia"
               xreflabel="public.usuario_dependencia">
        <title id="public.table.usuario-dependencia-title">
         Table:
         <database class="view">usuario_dependencia</database>
         
        </title>
 

        <para>
          Administración de usuarios por áreas
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">usuario_dependencia</database>
            </title>


            <varlistentry>
              <term><database class="field">usua_codi_actualiza</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>codigo de usuario que realiza la actualizacion</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>



                <database class="constraint">NOT NULL</database>





              </para>

              <para>codigo de usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi_padre</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>dependencia padre de la institucion</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>institucion que pertenece el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi_tmp</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>dependencias que administra el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_depe</database></term>
              <listitem><para>
                <database class="datatype">serial</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>clave primaria de la tabla</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.view.usuario-nombre"
               xreflabel="public.usuario_nombre">
        <title id="public.view.usuario-nombre-title">
         View:
         <database class="table">usuario_nombre</database>
         
        </title>
 


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">usuario_nombre</database>
            </title>


            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_nombre</database></term>
              <listitem><para>
                <database class="datatype">text</database>







              </para>

            </listitem>
          </varlistentry>

        </variablelist>








        <figure>
         <title>Definition of view usuario_nombre</title>
         <programlisting>
SELECT u.usua_codi
,
    
(
     (
           (COALESCE
                 (u.usua_nomb
                       ,&apos;&apos;::character varying
                 )
           )::text || &apos; &apos;::text
     ) || 
     (COALESCE
           (u.usua_apellido
                 ,&apos;&apos;::character varying
           )
     )::text
) AS usua_nombre
   
FROM usuarios u

UNION
 
SELECT c.ciu_codigo AS usua_codi
,
    
(
     (
           (COALESCE
                 (c.ciu_nombre
                       ,&apos;&apos;::character varying
                 )
           )::text || &apos; &apos;::text
     ) || 
     (COALESCE
           (c.ciu_apellido
                 ,&apos;&apos;::character varying
           )
     )::text
) AS usua_nombre
   
FROM ciudadano c;</programlisting>
        </figure>



      </para>
    </section>

      <section id="public.table.usuario-notificacion"
               xreflabel="public.usuario_notificacion">
        <title id="public.table.usuario-notificacion-title">
         Table:
         <database class="view">usuario_notificacion</database>
         
        </title>
 

        <para>
          Usuarios a los que se envió notificaciones por email
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">usuario_notificacion</database>
            </title>


            <varlistentry>
              <term><database class="field">id_mail</database></term>
              <listitem><para>
                <database class="datatype">numeric</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id del email</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_destinatario</database></term>
              <listitem><para>
                <database class="datatype">numeric</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id del usuario destinatario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Nombre del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">email</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Email del usuario</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.usuarios"
               xreflabel="public.usuarios">
        <title id="public.table.usuarios-title">
         Table:
         <database class="view">usuarios</database>
         
        </title>
 

        <para>
          Datos de los usuarios del sistema 
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">usuarios</database>
            </title>


            <varlistentry>
              <term><database class="field">usua_login</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Login del usuario (deben comenzar con &quot;U&quot;); existen usuarios especiales que comienzan con &apos;UUSR&apos; y &apos;UADM&apos;</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_pasw</database></term>
              <listitem><para>
                <database class="datatype">character varying(35)</database>







              </para>

              <para>Contraseña del usuario en md5</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_nomb</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Nombre del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_cedula</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Número de cédula</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_email</database></term>
              <listitem><para>
                <database class="datatype">character varying(500)</database>







              </para>

              <para>Email, pueden ser varios separados por comas</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_titulo</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Tratamiento o título académico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_abr_titulo</database></term>
              <listitem><para>
                <database class="datatype">character varying(30)</database>







              </para>

              <para>Abreviacion del titulo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_esta</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>





                <literal>DEFAULT 1</literal>



              </para>

              <para>Estado del usuario, activo o inactivo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;usuarios_usua_codi_seq&apos;::regclass)</literal>





              </para>

              <para>Id del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">cargo_tipo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>0 normal  1 jefe     2  asistente</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">depe_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.dependencia"/></database>


              </para>

              <para>Área a la que pertenece el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_nuevo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>





                <literal>DEFAULT 1</literal>



              </para>

              <para>Determina si el usuario ya cambió su clave del sistema o si se debe enviar el email para cambio de clave</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_tipo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>





                <literal>DEFAULT 2</literal>



              </para>

              <para>si el usuario es interno o externo</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_cargo</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Cargo del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.institucion"/></database>


              </para>

              <para>Institución a la que pertenece el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_apellido</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Apellido del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">cargo_id</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Campo en desuso</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_obs</database></term>
              <listitem><para>
                <database class="datatype">text</database>







              </para>

              <para>Observaciones sobre el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ciu_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id de la ciudad a la que pertenece el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_genero</database></term>
              <listitem><para>
                <database class="datatype">character(1)</database>







              </para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_firma_path</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Path en el que se encuentra la imágen escaneada de la firma</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_direccion</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Dirección domiciliaria</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_telefono</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Número telefónico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_actualiza</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del usuario que realizó la ultima modificación de los datos</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_fecha_actualiza</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha en la que se realizó la última modificación de los datos</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_obs_actualiza</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Cambios realizados durante la última modificación del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_cargo_cabecera</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Cargo que se muestra cuando se selecciona al usuario como destinatario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_sumilla</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Iniciales del usuario utilizadas cuando este tiene responsabilidad en la elaboración de un documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_responsable_area</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Indica que el usuario es responsable del area, razón por la cual la inicial de sus sumilla se
visualizará en todos los documentos generados en el área y con mayúsculas</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Nombre de la institución a la que pertenece el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_tipo_certificado</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.tipo-certificado"/></database>


              </para>

              <para>Id del tipo de certificado digital que posee</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">visible_sub</database></term>
              <listitem><para>
                <database class="datatype">integer</database>





                <literal>DEFAULT 1</literal>



              </para>

              <para>Indica si el usuario ha sido subrogado</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_subrogado</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del usuario subrogado</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_celular</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>No. del teléfono celular</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">tipo_identificacion</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>0 cedula  1 pasaporte</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on usuarios</title>

          <varlistentry>
            <term>fki_depe_codi</term>
            <listitem><para>depe_codi) WITH (fillfactor=70</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_login</term>
            <listitem><para>usua_login) WITH (fillfactor=70</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_usua_cedula</term>
            <listitem><para>usua_cedula) WITH (fillfactor=70</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_usua_esta</term>
            <listitem><para>usua_esta) WITH (fillfactor=70</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_usuarios_translate_usua_cargo</term>
            <listitem><para>translate(upper((usua_cargo)::text), &apos;ÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÑ&apos;::text, &apos;AEIOUAEIOUAEIOUN&apos;::text) gin_trgm_ops</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_usuarios_usua_cedula</term>
            <listitem><para>usua_cedula</para></listitem>
          </varlistentry>

        </variablelist>





        <itemizedlist>
          <title>
            Tables referencing archivo_radicado via Foreign Key Constraints
          </title>

          <listitem>
            <para>
              <xref linkend="public.table.archivo-radicado"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.informados"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.lista"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.metadatos-radicado"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.permiso-usuario"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.permiso-usuario-dep"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.radicado"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.respaldo-usuario"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.tarea"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.tarea-hist-eventos"/>
            </para>
          </listitem>



          <listitem>
            <para>
              <xref linkend="public.table.trd-radicado"/>
            </para>
          </listitem>

        </itemizedlist>






      </para>
    </section>

      <section id="public.table.usuarios-radicado"
               xreflabel="public.usuarios_radicado">
        <title id="public.table.usuarios-radicado-title">
         Table:
         <database class="view">usuarios_radicado</database>
         
        </title>
 

        <para>
          Se guardan los datos de los usuarios (de, para y cca) tal y como estaban en la BDD al momento de firmar el documento
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">usuarios_radicado</database>
            </title>


            <varlistentry>
              <term><database class="field">radi_nume_radi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>












                <database class="constraint">REFERENCES <xref linkend="public.table.radicado"/></database>


              </para>

              <para>Id del documento</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_cedula</database></term>
              <listitem><para>
                <database class="datatype">character varying(50)</database>







              </para>

              <para>Número de cédula</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Nombre del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_apellido</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Apellido del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_titulo</database></term>
              <listitem><para>
                <database class="datatype">character varying(100)</database>







              </para>

              <para>Tratamiento o título académico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_cargo</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Cargo del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_institucion</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Nombre de la institución</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">radi_usua_tipo</database></term>
              <listitem><para>
                <database class="datatype">smallint</database>







              </para>

              <para>Tipo de usuario: 
1 - Remitente 
2 - Destinatario 
3 - Con copia a</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_abr_titulo</database></term>
              <listitem><para>
                <database class="datatype">character varying(30)</database>







              </para>

              <para>Abreviación del título</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_email</database></term>
              <listitem><para>
                <database class="datatype">character varying(500)</database>







              </para>

              <para>Dirección del correo electrónico</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_radi_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>


                <database class="constraint">PRIMARY KEY</database>








                <literal>DEFAULT nextval(&apos;usuarios_radicado_usua_radi_codi_seq&apos;::regclass)</literal>





              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_ciudad</database></term>
              <listitem><para>
                <database class="datatype">character(100)</database>







              </para>

              <para>Nombre de la ciudad en la que se encuentra el usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_area</database></term>
              <listitem><para>
                <database class="datatype">character varying(150)</database>







              </para>

              <para>nombre del área a la que pertenece</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_area_codi</database></term>
              <listitem><para>
                <database class="datatype">numeric(20,0)</database>







              </para>

              <para>Id del área</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">lista_nombre</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Nombre de la lista (Si el documento fue enviado a una lista, caso contrario campo vacío)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_firma_path</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>Path del archivo en caso que tenga escaneada una firma</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">bigint</database>







              </para>

              <para>Id del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">inst_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id de la institución</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on usuarios_radicado</title>

          <varlistentry>
            <term>idx_radi_nume_radi_tipo</term>
            <listitem><para>radi_nume_radi, radi_usua_tipo</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>idx_usuarios_radicado_ts_vector2</term>
            <listitem><para>to_tsvector(&apos;es&apos;::regconfig, upper((((((COALESCE(usua_nombre, &apos;&apos;::character varying))::text || &apos; &apos;::text) || (COALESCE(usua_apellido, &apos;&apos;::character varying))::text) || &apos; &apos;::text) || (COALESCE(usua_institucion, &apos;&apos;::character varying))::text)))</para></listitem>
          </varlistentry>



          <varlistentry>
            <term>indradi_nume_radi</term>
            <listitem><para>radi_nume_radi) WITH (fillfactor=100</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>

      <section id="public.table.usuarios-sesion"
               xreflabel="public.usuarios_sesion">
        <title id="public.table.usuarios-sesion-title">
         Table:
         <database class="view">usuarios_sesion</database>
         
        </title>
 

        <para>
          Se almacenan los datos de la conexión cuando un usuario ingresa al sistema
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">usuarios_sesion</database>
            </title>


            <varlistentry>
              <term><database class="field">usua_codi</database></term>
              <listitem><para>
                <database class="datatype">integer</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id del usuario</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_sesion</database></term>
              <listitem><para>
                <database class="datatype">character varying(200)</database>







              </para>

              <para>Id de la session</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_fech_sesion</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha de inicio de la sesion</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_intentos</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>número de veces que el usuario intentó loguearse en el sistema (luego de 5 intentos fallidos se bloquea el usuario por 5 minutos)</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">ip_cliente</database></term>
              <listitem><para>
                <database class="datatype">character varying(300)</database>







              </para>

              <para>Ip de la máquina del usuario que accede al sistema</para>

            </listitem>
          </varlistentry>

        </variablelist>










      </para>
    </section>

      <section id="public.table.usuarios-subrogacion"
               xreflabel="public.usuarios_subrogacion">
        <title id="public.table.usuarios-subrogacion-title">
         Table:
         <database class="view">usuarios_subrogacion</database>
         
        </title>
 

        <para>
          Controla la subrogación de usuarios, cuando por algun motivo el titular del cargo debe ausentarse temporalmente y otro lo remplaza en sus funciones
        </para>


        <para>
          <variablelist>
            <title>
              Structure of <database class="table">usuarios_subrogacion</database>
            </title>


            <varlistentry>
              <term><database class="field">usua_subrogado</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del usuario que va a ser reemplazado temporalmente por subrogante</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_subrogante</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del usuario que reemplaza al subrogado</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_fecha_inicio</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha que inicia la subrogacion</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_fecha_fin</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha que finaliza la subrogacion</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_visible</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Estado de subrogacion, activa o terminada</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_observacion</database></term>
              <listitem><para>
                <database class="datatype">character varying</database>







              </para>

              <para>observaciones</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_subrogacion_codi</database></term>
              <listitem><para>
                <database class="datatype">serial</database>


                <database class="constraint">PRIMARY KEY</database>












              </para>

              <para>Id</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_fecha_actualizacion</database></term>
              <listitem><para>
                <database class="datatype">timestamp with time zone</database>







              </para>

              <para>Fecha que se registra</para>

            </listitem>
          </varlistentry>

            <varlistentry>
              <term><database class="field">usua_codi_actualiza</database></term>
              <listitem><para>
                <database class="datatype">integer</database>







              </para>

              <para>Id del usuario quien hace la subrogacion</para>

            </listitem>
          </varlistentry>

        </variablelist>





        <variablelist>
          <title>Indexes on usuarios_subrogacion</title>

          <varlistentry>
            <term>idx_usuarios_subrogacion_usua_visible</term>
            <listitem><para>usua_visible</para></listitem>
          </varlistentry>

        </variablelist>








      </para>
    </section>



<!-- Function concat(text, text) -->
    <section id="public.function.concat-text-text"
             xreflabel="()">
      <title id="public.function.concat-text-text-title">
       concat(text, text)
      </title>
      <titleabbrev id="public.function.concat-text-text-titleabbrev">
       concat(text, text)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>SQL</seg>
         <seg>text</seg>
        </seglistitem>
       </segmentedlist>
 
       Concatena dos cadenas de texto
        <programlisting>select case when $1 = &#39;&#39; then $2 else ($1 || &#39;, &#39; || $2) end</programlisting>
      </para>
    </section>

<!-- Function crear_lista_usuarios_institucion(text, text) -->
    <section id="public.function.crear-lista-usuarios-institucion-text-text"
             xreflabel="()">
      <title id="public.function.crear-lista-usuarios-institucion-text-text-title">
       crear_lista_usuarios_institucion(text, text)
      </title>
      <titleabbrev id="public.function.crear-lista-usuarios-institucion-text-text-titleabbrev">
       crear_lista_usuarios_institucion(text, text)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>PLPGSQL</seg>
         <seg>text</seg>
        </seglistitem>
       </segmentedlist>
 
       Añade todos los usuarios de una institución a una lista.
Parámetros: Id de la institución, Id de la lista
        <programlisting>
DECLARE
    fila RECORD;
    numero integer;
Begin
    numero := 1;
    execute E&#39;delete from lista_usuarios where lista_codi=&#39;||$2;
    BEGIN
        for fila in execute E&#39;select usua_codi from usuarios where inst_codi=&#39;||$1||&#39; and usua_esta=1 order by usua_apellido&#39; loop
            execute E&#39;insert into lista_usuarios (lista_codi, usua_codi, orden) values (&#39;||$2||&#39;,&#39;||fila.usua_codi||&#39;,&#39;||numero||&#39;)&#39;;
            numero := numero + 1;
         end loop;
    EXCEPTION WHEN OTHERS THEN
        return &#39;Error&#39;;
    END;
    return &#39;OK&#39;;
end;
</programlisting>
      </para>
    </section>

<!-- Function crear_registro_log() -->
    <section id="public.function.crear-registro-log"
             xreflabel="()">
      <title id="public.function.crear-registro-log-title">
       crear_registro_log()
      </title>
      <titleabbrev id="public.function.crear-registro-log-titleabbrev">
       crear_registro_log()
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>PLPGSQL</seg>
         <seg>trigger</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>
BEGIN 
	if (extract (year from NEW.fecha)=2014) then
		insert into log_acceso2014 values (NEW.*);
	else
		RAISE EXCEPTION &#39;agrege mas tablas para el log&#39;;
	end if;
	return NULL;
END;
</programlisting>
      </para>
    </section>

<!-- Function crear_registro_log_archivo_descarga() -->
    <section id="public.function.crear-registro-log-archivo-descarga"
             xreflabel="()">
      <title id="public.function.crear-registro-log-archivo-descarga-title">
       crear_registro_log_archivo_descarga()
      </title>
      <titleabbrev id="public.function.crear-registro-log-archivo-descarga-titleabbrev">
       crear_registro_log_archivo_descarga()
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>PLPGSQL</seg>
         <seg>trigger</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>
BEGIN 
	if (extract (year from NEW.fecha)=2014) then
		insert into log_archivo_descarga2014 values (NEW.*);
	else
		RAISE EXCEPTION &#39;agrege mas tablas para el log de descarga&#39;;
	end if;
	return NULL;
END;
</programlisting>
      </para>
    </section>

<!-- Function func_actualizar_view_usuario_ciudad() -->
    <section id="public.function.func-actualizar-view-usuario-ciudad"
             xreflabel="()">
      <title id="public.function.func-actualizar-view-usuario-ciudad-title">
       func_actualizar_view_usuario_ciudad()
      </title>
      <titleabbrev id="public.function.func-actualizar-view-usuario-ciudad-titleabbrev">
       func_actualizar_view_usuario_ciudad()
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>PLPGSQL</seg>
         <seg>trigger</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting> 
DECLARE 
BEGIN 
    BEGIN 
        UPDATE usuario SET usua_ciudad=NEW.nombre WHERE ciu_codi=NEW.id; 
    EXCEPTION WHEN OTHERS THEN 
        INSERT INTO log_view_usuario (fecha, tabla, accion, codigo, error) VALUES (now(), &#39;ciudad&#39;, TG_OP, NEW.id, SQLERRM); 
    END; 
    RETURN NULL; 
END; 
</programlisting>
      </para>
    </section>

<!-- Function func_actualizar_view_usuario_ciudadano() -->
    <section id="public.function.func-actualizar-view-usuario-ciudadano"
             xreflabel="()">
      <title id="public.function.func-actualizar-view-usuario-ciudadano-title">
       func_actualizar_view_usuario_ciudadano()
      </title>
      <titleabbrev id="public.function.func-actualizar-view-usuario-ciudadano-titleabbrev">
       func_actualizar_view_usuario_ciudadano()
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>PLPGSQL</seg>
         <seg>trigger</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>
DECLARE
    var_usua_codi integer;
BEGIN
    BEGIN
        IF TG_OP = &#39;DELETE&#39; THEN -- Cuando se pasa un ciudadano a la tabla funcionario (ciudadanos con firma electrónica)
            var_usua_codi := OLD.ciu_codigo;
	    DELETE FROM usuario WHERE usua_codi=OLD.ciu_codigo;
	END IF;
	
        IF TG_OP = &#39;UPDATE&#39; THEN
            var_usua_codi := OLD.ciu_codigo;
	    UPDATE usuario 
	    SET   usua_cedula = NEW.ciu_cedula
	        , usua_nomb   = NEW.ciu_nombre
	        , usua_apellido = NEW.ciu_apellido
	        , usua_nombre = TRIM(COALESCE(NEW.ciu_nombre::text, &#39;&#39;::text) || &#39; &#39;::text || COALESCE(NEW.ciu_apellido::text, &#39;&#39;::text))
	        , usua_nuevo  = NEW.ciu_nuevo 
	        , usua_login  = CASE WHEN NEW.ciu_estado=1 THEN &#39;U&#39;::text || NEW.ciu_cedula::text ELSE &#39;l&#39;::text || OLD.ciu_codigo::text END
	        , usua_pasw   = NEW.ciu_pasw 
	        , usua_esta   = NEW.ciu_estado
	        , usua_cargo  = NEW.ciu_cargo
	        , usua_cargo_cabecera = NEW.ciu_cargo
	        , usua_email  = NEW.ciu_email
	        , usua_titulo = NEW.ciu_titulo
	        , usua_abr_titulo = NEW.ciu_abr_titulo
	        , inst_nombre = NEW.ciu_empresa
	        , usua_direccion = NEW.ciu_direccion
	        , usua_telefono = NEW.ciu_telefono
	        , ciu_codi = COALESCE(NEW.ciudad_codi, 1)
	        , usua_ciudad = (SELECT c.nombre FROM ciudad c WHERE COALESCE(NEW.ciudad_codi, 1) = c.id)
	        , cargo_tipo  = 0
	        , depe_codi   = 0 
	        , depe_nomb   = &#39;&#39;
	        , dep_sigla = NULL
	        , inst_codi   = 0
	        , inst_sigla  = &#39;&#39;
	        , inst_estado = 1
	        , tipo_usuario = 2
	        , usua_tipo_certificado = 0
	        , usua_subrogado = 0
	        , visible_sub = 0
	        , usua_firma_path = &#39;&#39;
                , usua_datos = translate(UPPER(coalesce(NEW.ciu_cedula,&#39;&#39;)||&#39; &#39;||coalesce(NEW.ciu_nombre,&#39;&#39;)
                  ||&#39; &#39;||coalesce(NEW.ciu_apellido,&#39;&#39;)||&#39; &#39;||coalesce(NEW.ciu_cargo,&#39;&#39;)||&#39; &#39;||coalesce(NEW.ciu_email,&#39;&#39;)
                  ||&#39; &#39;||coalesce(NEW.ciu_empresa,&#39;&#39;)),&#39;ÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÂÊÎÔÛÃÕÑ&#39;,&#39;AEIOUAEIOUAEIOUAEIOUAON&#39;)
                , inst_adscrita = 0
                , inst_padre_nombre = &#39;Ciudadanos&#39;
                , inst_padre_sigla = &#39;CIUDADANO&#39;
	    WHERE usua_codi = OLD.ciu_codigo;
	END IF;

        IF TG_OP = &#39;INSERT&#39; THEN
            var_usua_codi := NEW.ciu_codigo;
	    INSERT INTO usuario (
	        usua_codi, usua_cargo, usua_cargo_cabecera, usua_nuevo, usua_login, usua_pasw, usua_esta, usua_cedula, usua_nomb, usua_apellido, usua_nombre
	         , usua_email, usua_titulo, usua_abr_titulo, inst_nombre, usua_direccion, usua_telefono, ciu_codi, usua_ciudad
	         , cargo_tipo, depe_codi, inst_estado, inst_codi, depe_nomb, inst_sigla, tipo_usuario, usua_tipo_certificado
	         , usua_subrogado, visible_sub, dep_sigla, usua_firma_path, usua_datos, inst_adscrita, inst_padre_nombre, inst_padre_sigla
	    ) VALUES (
	        NEW.ciu_codigo, NEW.ciu_cargo, NEW.ciu_cargo, NEW.ciu_nuevo
	        , CASE WHEN NEW.ciu_estado=1 THEN &#39;U&#39;::text || NEW.ciu_cedula::text ELSE &#39;l&#39;::text || NEW.ciu_codigo::text END
	        , NEW.ciu_pasw, NEW.ciu_estado, NEW.ciu_cedula, NEW.ciu_nombre, NEW.ciu_apellido
	        , TRIM(COALESCE(NEW.ciu_nombre::text, &#39;&#39;::text) || &#39; &#39;::text || COALESCE(NEW.ciu_apellido::text, &#39;&#39;::text))
	        , NEW.ciu_email, NEW.ciu_titulo, NEW.ciu_abr_titulo, NEW.ciu_empresa, NEW.ciu_direccion, NEW.ciu_telefono
	        , COALESCE(NEW.ciudad_codi, 1), (SELECT c.nombre FROM ciudad c WHERE COALESCE(NEW.ciudad_codi, 1) = c.id)
	        , 0, 0, 1, 0, &#39;&#39;, &#39;&#39;, 2, 0, 0, 0, NULL, &#39;&#39;
	        , translate(UPPER(coalesce(NEW.ciu_cedula,&#39;&#39;)||&#39; &#39;||coalesce(NEW.ciu_nombre,&#39;&#39;)
                    ||&#39; &#39;||coalesce(NEW.ciu_apellido,&#39;&#39;)||&#39; &#39;||coalesce(NEW.ciu_cargo,&#39;&#39;)||&#39; &#39;||coalesce(NEW.ciu_email,&#39;&#39;)
                    ||&#39; &#39;||coalesce(NEW.ciu_empresa,&#39;&#39;)),&#39;ÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÂÊÎÔÛÃÕÑ&#39;,&#39;AEIOUAEIOUAEIOUAEIOUAON&#39;)
                , 0, &#39;Ciudadanos&#39;, &#39;CIUDADANO&#39;
	    );
	END IF;

    EXCEPTION WHEN OTHERS THEN
        INSERT INTO log_view_usuario (fecha, tabla, accion, codigo, error) VALUES (now(), &#39;ciudadano&#39;, TG_OP, var_usua_codi, SQLERRM);
    END;
    RETURN NULL;
END;
</programlisting>
      </para>
    </section>

<!-- Function func_actualizar_view_usuario_dependencia() -->
    <section id="public.function.func-actualizar-view-usuario-dependencia"
             xreflabel="()">
      <title id="public.function.func-actualizar-view-usuario-dependencia-title">
       func_actualizar_view_usuario_dependencia()
      </title>
      <titleabbrev id="public.function.func-actualizar-view-usuario-dependencia-titleabbrev">
       func_actualizar_view_usuario_dependencia()
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>PLPGSQL</seg>
         <seg>trigger</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>
DECLARE
    var_recordset record;
BEGIN
    BEGIN
        -- Consultamos los datos de la institucion adscrita
        SELECT inst_nombre, inst_sigla FROM institucion where inst_codi=NEW.inst_adscrita INTO var_recordset;

        UPDATE usuario 
        SET   depe_nomb=NEW.depe_nomb
            , dep_sigla=NEW.dep_sigla 
            , inst_adscrita=NEW.inst_adscrita
            , inst_nombre = var_recordset.inst_nombre
            , inst_sigla = var_recordset.inst_sigla
            , usua_datos = translate(UPPER(coalesce(usua_cedula,&#39;&#39;)||&#39; &#39;||coalesce(usua_nombre,&#39;&#39;)||&#39; &#39;||coalesce(usua_cargo,&#39;&#39;)
                  ||&#39; &#39;||coalesce(usua_email,&#39;&#39;)||&#39; &#39;||coalesce(NEW.depe_nomb,&#39;&#39;)
                  ||&#39; &#39;||coalesce(var_recordset.inst_nombre,&#39;&#39;)||&#39; &#39;||coalesce(var_recordset.inst_sigla,&#39;&#39;)
              ),&#39;ÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÂÊÎÔÛÃÕÑ&#39;,&#39;AEIOUAEIOUAEIOUAEIOUAON&#39;)
        WHERE depe_codi = NEW.depe_codi;
    EXCEPTION WHEN OTHERS THEN
        INSERT INTO log_view_usuario (fecha, tabla, accion, codigo, error) VALUES (now(), &#39;dependencia&#39;, TG_OP, NEW.depe_codi, SQLERRM);
    END;
    RETURN NULL;
END;
</programlisting>
      </para>
    </section>

<!-- Function func_actualizar_view_usuario_institucion() -->
    <section id="public.function.func-actualizar-view-usuario-institucion"
             xreflabel="()">
      <title id="public.function.func-actualizar-view-usuario-institucion-title">
       func_actualizar_view_usuario_institucion()
      </title>
      <titleabbrev id="public.function.func-actualizar-view-usuario-institucion-titleabbrev">
       func_actualizar_view_usuario_institucion()
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>PLPGSQL</seg>
         <seg>trigger</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>
DECLARE
BEGIN
    BEGIN
        UPDATE usuario 
        SET   
            -- Si modifico la institución padre
              inst_estado=case when inst_codi=NEW.inst_codi then NEW.inst_estado else inst_estado end
            , inst_padre_nombre=case when inst_codi=NEW.inst_codi then NEW.inst_nombre else inst_padre_nombre end
            , inst_padre_sigla=case when inst_codi=NEW.inst_codi then NEW.inst_sigla else inst_padre_sigla end
            -- Si modifico la institución adscrita
            , inst_nombre=case when inst_adscrita=NEW.inst_codi then NEW.inst_nombre else inst_nombre end
            , inst_sigla=case when inst_adscrita=NEW.inst_codi then NEW.inst_sigla else inst_sigla end
            , usua_datos = translate(UPPER(coalesce(usua_cedula,&#39;&#39;)||&#39; &#39;||coalesce(usua_nombre,&#39;&#39;)||&#39; &#39;||coalesce(usua_cargo,&#39;&#39;)
                  ||&#39; &#39;||coalesce(usua_email,&#39;&#39;)||&#39; &#39;||coalesce(depe_nomb,&#39;&#39;)||&#39; &#39;||
                  case when inst_adscrita=NEW.inst_codi then coalesce(NEW.inst_nombre,&#39;&#39;)||&#39; &#39;||coalesce(NEW.inst_sigla,&#39;&#39;) 
                       else coalesce(inst_nombre,&#39;&#39;)||&#39; &#39;||coalesce(inst_sigla,&#39;&#39;) end
              ),&#39;ÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÂÊÎÔÛÃÕÑ&#39;,&#39;AEIOUAEIOUAEIOUAEIOUAON&#39;)
        WHERE inst_codi = NEW.inst_codi or inst_adscrita=NEW.inst_codi;
    EXCEPTION WHEN OTHERS THEN
        INSERT INTO log_view_usuario (fecha, tabla, accion, codigo, error) VALUES (now(), &#39;institucion&#39;, TG_OP, NEW.depe_codi, SQLERRM);
    END;
    RETURN NULL;
END;
</programlisting>
      </para>
    </section>

<!-- Function func_actualizar_view_usuario_usuarios() -->
    <section id="public.function.func-actualizar-view-usuario-usuarios"
             xreflabel="()">
      <title id="public.function.func-actualizar-view-usuario-usuarios-title">
       func_actualizar_view_usuario_usuarios()
      </title>
      <titleabbrev id="public.function.func-actualizar-view-usuario-usuarios-titleabbrev">
       func_actualizar_view_usuario_usuarios()
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>PLPGSQL</seg>
         <seg>trigger</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>
DECLARE
    var_recordset record;
BEGIN
    BEGIN
        -- Consultamos los datos de la institucion, del área y de la ciudad para insertarlos luego
        SELECT u.usua_codi, d.depe_nomb, d.dep_sigla, i.inst_estado, ia.inst_sigla
            , CASE WHEN i.inst_codi = 1 THEN NEW.inst_nombre ELSE ia.inst_nombre END AS inst_nombre
            , d.inst_adscrita, i.inst_sigla as inst_padre_sigla, i.inst_nombre as inst_padre_nombre
            , COALESCE(NEW.ciu_codi, COALESCE(d.depe_pie1,&#39;1&#39;)::integer) AS ciu_codi
	    , (SELECT c.nombre FROM ciudad c WHERE COALESCE(NEW.ciu_codi, COALESCE(d.depe_pie1,&#39;1&#39;)::integer)=c.id) AS usua_ciudad
	FROM (SELECT NEW.usua_codi as usua_codi, coalesce(NEW.inst_codi,0) as inst_codi, coalesce(NEW.depe_codi,0) as depe_codi) as u
            LEFT JOIN dependencia d ON u.depe_codi = d.depe_codi
            LEFT JOIN institucion i ON u.inst_codi = i.inst_codi --institucion padre
            LEFT JOIN institucion ia ON d.inst_adscrita = ia.inst_codi --institucion adscrita
        INTO var_recordset;
        
    
        IF TG_OP = &#39;UPDATE&#39; THEN
	    UPDATE usuario 
	    SET   usua_cedula = NEW.usua_cedula
	        , usua_nomb   = NEW.usua_nomb
	        , usua_apellido = NEW.usua_apellido
	        , usua_nombre = TRIM(COALESCE(NEW.usua_nomb::text, &#39;&#39;::text) || &#39; &#39;::text || COALESCE(NEW.usua_apellido::text, &#39;&#39;::text))
	        , usua_nuevo  = NEW.usua_nuevo 
	        , usua_login  = NEW.usua_login
	        , usua_pasw   = NEW.usua_pasw 
	        , usua_cargo  = NEW.usua_cargo 
	        , usua_cargo_cabecera = NEW.usua_cargo_cabecera
	        , cargo_tipo  = NEW.cargo_tipo
	        , usua_esta   = NEW.usua_esta
	        , usua_email  = NEW.usua_email
	        , usua_titulo = NEW.usua_titulo
	        , usua_abr_titulo = NEW.usua_abr_titulo
	        , tipo_usuario = CASE WHEN NEW.inst_codi = 1 THEN 2 ELSE 1 END
	        , usua_tipo_certificado = NEW.usua_tipo_certificado
	        , usua_subrogado = NEW.usua_subrogado
	        , visible_sub = NEW.visible_sub
	        , usua_direccion = NEW.usua_direccion
	        , usua_telefono = NEW.usua_telefono
	        , usua_firma_path = NEW.usua_firma_path
	        , depe_codi   = NEW.depe_codi
	        , depe_nomb   = var_recordset.depe_nomb
	        , dep_sigla   = var_recordset.dep_sigla
	        , inst_codi   = NEW.inst_codi
	        , inst_nombre = var_recordset.inst_nombre
	        , inst_sigla  = var_recordset.inst_sigla
	        , inst_estado = var_recordset.inst_estado
	        , ciu_codi = var_recordset.ciu_codi
	        , usua_ciudad = var_recordset.usua_ciudad
                , tipo_identificacion = NEW.tipo_identificacion
                , usua_datos = translate(UPPER(coalesce(NEW.usua_cedula,&#39;&#39;)||&#39; &#39;||coalesce(NEW.usua_nomb,&#39;&#39;)
                      ||&#39; &#39;||coalesce(NEW.usua_apellido,&#39;&#39;)||&#39; &#39;||coalesce(NEW.usua_cargo,&#39;&#39;)||&#39; &#39;||coalesce(NEW.usua_email,&#39;&#39;)
                      ||&#39; &#39;||coalesce(var_recordset.depe_nomb,&#39;&#39;)||&#39; &#39;||coalesce(var_recordset.inst_nombre,&#39;&#39;)
                      ||&#39; &#39;||coalesce(var_recordset.inst_sigla,&#39;&#39;)),&#39;ÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÂÊÎÔÛÃÕÑ&#39;,&#39;AEIOUAEIOUAEIOUAEIOUAON&#39;)
	        , inst_padre_nombre = var_recordset.inst_padre_nombre
	        , inst_padre_sigla  = var_recordset.inst_padre_sigla
	        , inst_adscrita = var_recordset.inst_adscrita
	    WHERE usua_codi = NEW.usua_codi;
        END IF;

        IF TG_OP = &#39;INSERT&#39; THEN
            INSERT INTO usuario (
	        usua_codi, usua_cedula, usua_nomb, usua_apellido, usua_nombre, usua_nuevo, usua_login
	        , usua_pasw, usua_cargo, usua_cargo_cabecera, cargo_tipo, usua_esta, usua_email
	        , usua_titulo, usua_abr_titulo, tipo_usuario, usua_tipo_certificado, usua_subrogado
	        , visible_sub, usua_direccion, usua_telefono, usua_firma_path, depe_codi, depe_nomb
	        , dep_sigla, inst_codi, inst_nombre, inst_sigla, inst_estado, ciu_codi, usua_ciudad
	        , tipo_identificacion, usua_datos, inst_padre_nombre, inst_padre_sigla, inst_adscrita
	    ) VALUES (
	        NEW.usua_codi, NEW.usua_cedula, NEW.usua_nomb, NEW.usua_apellido
	        , TRIM(COALESCE(NEW.usua_nomb::text, &#39;&#39;::text) || &#39; &#39;::text || COALESCE(NEW.usua_apellido::text, &#39;&#39;::text))
	        , NEW.usua_nuevo, NEW.usua_login, NEW.usua_pasw, NEW.usua_cargo, NEW.usua_cargo_cabecera
	        , NEW.cargo_tipo, NEW.usua_esta, NEW.usua_email, NEW.usua_titulo, NEW.usua_abr_titulo
	        , CASE WHEN NEW.inst_codi = 1 THEN 2 ELSE 1 END
	        , NEW.usua_tipo_certificado, NEW.usua_subrogado, NEW.visible_sub, NEW.usua_direccion
	        , NEW.usua_telefono, NEW.usua_firma_path, NEW.depe_codi, var_recordset.depe_nomb
	        , var_recordset.dep_sigla, NEW.inst_codi, var_recordset.inst_nombre, var_recordset.inst_sigla
	        , var_recordset.inst_estado, var_recordset.ciu_codi, var_recordset.usua_ciudad, NEW.tipo_identificacion
	        , translate(UPPER(coalesce(NEW.usua_cedula,&#39;&#39;)||&#39; &#39;||coalesce(NEW.usua_nomb,&#39;&#39;)||&#39; &#39;||coalesce(NEW.usua_apellido,&#39;&#39;)
	              ||&#39; &#39;||coalesce(NEW.usua_cargo,&#39;&#39;)||&#39; &#39;||coalesce(NEW.usua_email,&#39;&#39;)||&#39; &#39;||coalesce(var_recordset.depe_nomb,&#39;&#39;)
                      ||&#39; &#39;||coalesce(var_recordset.inst_nombre,&#39;&#39;)||&#39; &#39;||coalesce(var_recordset.inst_sigla,&#39;&#39;)
                  ),&#39;ÁÉÍÓÚÀÈÌÒÙÄËÏÖÜÂÊÎÔÛÃÕÑ&#39;,&#39;AEIOUAEIOUAEIOUAEIOUAON&#39;)
                , var_recordset.inst_padre_nombre, var_recordset.inst_padre_sigla, var_recordset.inst_adscrita
	    );

	END IF;
	
    EXCEPTION WHEN OTHERS THEN
        INSERT INTO log_view_usuario (fecha, tabla, accion, codigo, error) VALUES (now(), &#39;usuarios&#39;, TG_OP, NEW.usua_codi, SQLERRM);
    END;
    RETURN NULL;
END;
</programlisting>
      </para>
    </section>

<!-- Function func_cambiar_dominio_email_usuarios(var_dominio_origen text, var_dominio_destino text) -->
    <section id="public.function.func-cambiar-dominio-email-usuarios-var-dominio-origen-text-var-dominio-destino-text"
             xreflabel="()">
      <title id="public.function.func-cambiar-dominio-email-usuarios-var-dominio-origen-text-var-dominio-destino-text-title">
       func_cambiar_dominio_email_usuarios(var_dominio_origen text, var_dominio_destino text)
      </title>
      <titleabbrev id="public.function.func-cambiar-dominio-email-usuarios-var-dominio-origen-text-var-dominio-destino-text-titleabbrev">
       func_cambiar_dominio_email_usuarios(var_dominio_origen text, var_dominio_destino text)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>PLPGSQL</seg>
         <seg>integer</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting> 
DECLARE 
    var_num_registros integer;
BEGIN 
    select count(1) from usuarios where usua_email ilike &#39;%&#39;||var_dominio_origen and usua_esta=1 into var_num_registros;
    
    update usuarios
    set usua_email=replace(usua_email, var_dominio_origen, var_dominio_destino)
    where usua_email ilike &#39;%&#39;||var_dominio_origen and usua_esta=1;

    RETURN var_num_registros; 
END; 
</programlisting>
      </para>
    </section>

<!-- Function func_grabar_archivo(var_nombre_archivo text, var_archivo_base_64 text) -->
    <section id="public.function.func-grabar-archivo-var-nombre-archivo-text-var-archivo-base-64-text"
             xreflabel="()">
      <title id="public.function.func-grabar-archivo-var-nombre-archivo-text-var-archivo-base-64-text-title">
       func_grabar_archivo(var_nombre_archivo text, var_archivo_base_64 text)
      </title>
      <titleabbrev id="public.function.func-grabar-archivo-var-nombre-archivo-text-var-archivo-base-64-text-titleabbrev">
       func_grabar_archivo(var_nombre_archivo text, var_archivo_base_64 text)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>PLPGSQL</seg>
         <seg>integer</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>
BEGIN
    return 0;
END;
</programlisting>
      </para>
    </section>

<!-- Function func_recuperar_archivo(var_arch_codi bigint) -->
    <section id="public.function.func-recuperar-archivo-var-arch-codi-bigint"
             xreflabel="()">
      <title id="public.function.func-recuperar-archivo-var-arch-codi-bigint-title">
       func_recuperar_archivo(var_arch_codi bigint)
      </title>
      <titleabbrev id="public.function.func-recuperar-archivo-var-arch-codi-bigint-titleabbrev">
       func_recuperar_archivo(var_arch_codi bigint)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>PLPGSQL</seg>
         <seg>text</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>
BEGIN
    return &#39;&#39;;
END;
</programlisting>
      </para>
    </section>

<!-- Function func_valor_secuencia(sec_nombre text) -->
    <section id="public.function.func-valor-secuencia-sec-nombre-text"
             xreflabel="()">
      <title id="public.function.func-valor-secuencia-sec-nombre-text-title">
       func_valor_secuencia(sec_nombre text)
      </title>
      <titleabbrev id="public.function.func-valor-secuencia-sec-nombre-text-titleabbrev">
       func_valor_secuencia(sec_nombre text)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>PLPGSQL</seg>
         <seg>bigint</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>
DECLARE
    var_recordset record;
Begin
    BEGIN
	execute E&#39;select last_value from &#39;||sec_nombre into var_recordset;
	return var_recordset.last_value;
    EXCEPTION WHEN OTHERS THEN
        return -1;
    END;
end;
</programlisting>
      </para>
    </section>

<!-- Function gin_extract_query_trgm(text, internal, smallint, internal, internal, internal, internal) -->
    <section id="public.function.gin-extract-query-trgm-text-internal-smallint-internal-internal-internal-internal"
             xreflabel="()">
      <title id="public.function.gin-extract-query-trgm-text-internal-smallint-internal-internal-internal-internal-title">
       gin_extract_query_trgm(text, internal, smallint, internal, internal, internal, internal)
      </title>
      <titleabbrev id="public.function.gin-extract-query-trgm-text-internal-smallint-internal-internal-internal-internal-titleabbrev">
       gin_extract_query_trgm(text, internal, smallint, internal, internal, internal, internal)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>internal</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>gin_extract_query_trgm</programlisting>
      </para>
    </section>

<!-- Function gin_extract_value_trgm(text, internal) -->
    <section id="public.function.gin-extract-value-trgm-text-internal"
             xreflabel="()">
      <title id="public.function.gin-extract-value-trgm-text-internal-title">
       gin_extract_value_trgm(text, internal)
      </title>
      <titleabbrev id="public.function.gin-extract-value-trgm-text-internal-titleabbrev">
       gin_extract_value_trgm(text, internal)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>internal</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>gin_extract_value_trgm</programlisting>
      </para>
    </section>

<!-- Function gin_trgm_consistent(internal, smallint, text, integer, internal, internal, internal, internal) -->
    <section id="public.function.gin-trgm-consistent-internal-smallint-text-integer-internal-internal-internal-internal"
             xreflabel="()">
      <title id="public.function.gin-trgm-consistent-internal-smallint-text-integer-internal-internal-internal-internal-title">
       gin_trgm_consistent(internal, smallint, text, integer, internal, internal, internal, internal)
      </title>
      <titleabbrev id="public.function.gin-trgm-consistent-internal-smallint-text-integer-internal-internal-internal-internal-titleabbrev">
       gin_trgm_consistent(internal, smallint, text, integer, internal, internal, internal, internal)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>boolean</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>gin_trgm_consistent</programlisting>
      </para>
    </section>

<!-- Function gtrgm_compress(internal) -->
    <section id="public.function.gtrgm-compress-internal"
             xreflabel="()">
      <title id="public.function.gtrgm-compress-internal-title">
       gtrgm_compress(internal)
      </title>
      <titleabbrev id="public.function.gtrgm-compress-internal-titleabbrev">
       gtrgm_compress(internal)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>internal</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>gtrgm_compress</programlisting>
      </para>
    </section>

<!-- Function gtrgm_consistent(internal, text, integer, oid, internal) -->
    <section id="public.function.gtrgm-consistent-internal-text-integer-oid-internal"
             xreflabel="()">
      <title id="public.function.gtrgm-consistent-internal-text-integer-oid-internal-title">
       gtrgm_consistent(internal, text, integer, oid, internal)
      </title>
      <titleabbrev id="public.function.gtrgm-consistent-internal-text-integer-oid-internal-titleabbrev">
       gtrgm_consistent(internal, text, integer, oid, internal)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>boolean</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>gtrgm_consistent</programlisting>
      </para>
    </section>

<!-- Function gtrgm_decompress(internal) -->
    <section id="public.function.gtrgm-decompress-internal"
             xreflabel="()">
      <title id="public.function.gtrgm-decompress-internal-title">
       gtrgm_decompress(internal)
      </title>
      <titleabbrev id="public.function.gtrgm-decompress-internal-titleabbrev">
       gtrgm_decompress(internal)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>internal</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>gtrgm_decompress</programlisting>
      </para>
    </section>

<!-- Function gtrgm_distance(internal, text, integer, oid) -->
    <section id="public.function.gtrgm-distance-internal-text-integer-oid"
             xreflabel="()">
      <title id="public.function.gtrgm-distance-internal-text-integer-oid-title">
       gtrgm_distance(internal, text, integer, oid)
      </title>
      <titleabbrev id="public.function.gtrgm-distance-internal-text-integer-oid-titleabbrev">
       gtrgm_distance(internal, text, integer, oid)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>double precision</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>gtrgm_distance</programlisting>
      </para>
    </section>

<!-- Function gtrgm_in(cstring) -->
    <section id="public.function.gtrgm-in-cstring"
             xreflabel="()">
      <title id="public.function.gtrgm-in-cstring-title">
       gtrgm_in(cstring)
      </title>
      <titleabbrev id="public.function.gtrgm-in-cstring-titleabbrev">
       gtrgm_in(cstring)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>gtrgm</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>gtrgm_in</programlisting>
      </para>
    </section>

<!-- Function gtrgm_out(public.gtrgm) -->
    <section id="public.function.gtrgm-out-public.gtrgm"
             xreflabel="()">
      <title id="public.function.gtrgm-out-public.gtrgm-title">
       gtrgm_out(public.gtrgm)
      </title>
      <titleabbrev id="public.function.gtrgm-out-public.gtrgm-titleabbrev">
       gtrgm_out(public.gtrgm)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>cstring</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>gtrgm_out</programlisting>
      </para>
    </section>

<!-- Function gtrgm_penalty(internal, internal, internal) -->
    <section id="public.function.gtrgm-penalty-internal-internal-internal"
             xreflabel="()">
      <title id="public.function.gtrgm-penalty-internal-internal-internal-title">
       gtrgm_penalty(internal, internal, internal)
      </title>
      <titleabbrev id="public.function.gtrgm-penalty-internal-internal-internal-titleabbrev">
       gtrgm_penalty(internal, internal, internal)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>internal</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>gtrgm_penalty</programlisting>
      </para>
    </section>

<!-- Function gtrgm_picksplit(internal, internal) -->
    <section id="public.function.gtrgm-picksplit-internal-internal"
             xreflabel="()">
      <title id="public.function.gtrgm-picksplit-internal-internal-title">
       gtrgm_picksplit(internal, internal)
      </title>
      <titleabbrev id="public.function.gtrgm-picksplit-internal-internal-titleabbrev">
       gtrgm_picksplit(internal, internal)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>internal</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>gtrgm_picksplit</programlisting>
      </para>
    </section>

<!-- Function gtrgm_same(public.gtrgm, public.gtrgm, internal) -->
    <section id="public.function.gtrgm-same-public.gtrgm-public.gtrgm-internal"
             xreflabel="()">
      <title id="public.function.gtrgm-same-public.gtrgm-public.gtrgm-internal-title">
       gtrgm_same(public.gtrgm, public.gtrgm, internal)
      </title>
      <titleabbrev id="public.function.gtrgm-same-public.gtrgm-public.gtrgm-internal-titleabbrev">
       gtrgm_same(public.gtrgm, public.gtrgm, internal)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>internal</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>gtrgm_same</programlisting>
      </para>
    </section>

<!-- Function gtrgm_union(bytea, internal) -->
    <section id="public.function.gtrgm-union-bytea-internal"
             xreflabel="()">
      <title id="public.function.gtrgm-union-bytea-internal-title">
       gtrgm_union(bytea, internal)
      </title>
      <titleabbrev id="public.function.gtrgm-union-bytea-internal-titleabbrev">
       gtrgm_union(bytea, internal)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>integer[]</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>gtrgm_union</programlisting>
      </para>
    </section>

<!-- Function pg_buffercache_pages() -->
    <section id="public.function.pg-buffercache-pages"
             xreflabel="()">
      <title id="public.function.pg-buffercache-pages-title">
       pg_buffercache_pages()
      </title>
      <titleabbrev id="public.function.pg-buffercache-pages-titleabbrev">
       pg_buffercache_pages()
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>SET OF record</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>pg_buffercache_pages</programlisting>
      </para>
    </section>

<!-- Function set_limit(real) -->
    <section id="public.function.set-limit-real"
             xreflabel="()">
      <title id="public.function.set-limit-real-title">
       set_limit(real)
      </title>
      <titleabbrev id="public.function.set-limit-real-titleabbrev">
       set_limit(real)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>real</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>set_limit</programlisting>
      </para>
    </section>

<!-- Function show_limit() -->
    <section id="public.function.show-limit"
             xreflabel="()">
      <title id="public.function.show-limit-title">
       show_limit()
      </title>
      <titleabbrev id="public.function.show-limit-titleabbrev">
       show_limit()
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>real</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>show_limit</programlisting>
      </para>
    </section>

<!-- Function show_trgm(text) -->
    <section id="public.function.show-trgm-text"
             xreflabel="()">
      <title id="public.function.show-trgm-text-title">
       show_trgm(text)
      </title>
      <titleabbrev id="public.function.show-trgm-text-titleabbrev">
       show_trgm(text)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>text[]</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>show_trgm</programlisting>
      </para>
    </section>

<!-- Function similarity(text, text) -->
    <section id="public.function.similarity-text-text"
             xreflabel="()">
      <title id="public.function.similarity-text-text-title">
       similarity(text, text)
      </title>
      <titleabbrev id="public.function.similarity-text-text-titleabbrev">
       similarity(text, text)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>real</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>similarity</programlisting>
      </para>
    </section>

<!-- Function similarity_dist(text, text) -->
    <section id="public.function.similarity-dist-text-text"
             xreflabel="()">
      <title id="public.function.similarity-dist-text-text-title">
       similarity_dist(text, text)
      </title>
      <titleabbrev id="public.function.similarity-dist-text-text-titleabbrev">
       similarity_dist(text, text)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>real</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>similarity_dist</programlisting>
      </para>
    </section>

<!-- Function similarity_op(text, text) -->
    <section id="public.function.similarity-op-text-text"
             xreflabel="()">
      <title id="public.function.similarity-op-text-text-title">
       similarity_op(text, text)
      </title>
      <titleabbrev id="public.function.similarity-op-text-text-titleabbrev">
       similarity_op(text, text)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>boolean</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>similarity_op</programlisting>
      </para>
    </section>

<!-- Function unaccent(regdictionary, text) -->
    <section id="public.function.unaccent-regdictionary-text"
             xreflabel="()">
      <title id="public.function.unaccent-regdictionary-text-title">
       unaccent(regdictionary, text)
      </title>
      <titleabbrev id="public.function.unaccent-regdictionary-text-titleabbrev">
       unaccent(regdictionary, text)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>text</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>unaccent_dict</programlisting>
      </para>
    </section>

<!-- Function unaccent(text) -->
    <section id="public.function.unaccent-text"
             xreflabel="()">
      <title id="public.function.unaccent-text-title">
       unaccent(text)
      </title>
      <titleabbrev id="public.function.unaccent-text-titleabbrev">
       unaccent(text)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>text</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>unaccent_dict</programlisting>
      </para>
    </section>

<!-- Function unaccent_init(internal) -->
    <section id="public.function.unaccent-init-internal"
             xreflabel="()">
      <title id="public.function.unaccent-init-internal-title">
       unaccent_init(internal)
      </title>
      <titleabbrev id="public.function.unaccent-init-internal-titleabbrev">
       unaccent_init(internal)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>internal</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>unaccent_init</programlisting>
      </para>
    </section>

<!-- Function unaccent_lexize(internal, internal, internal, internal) -->
    <section id="public.function.unaccent-lexize-internal-internal-internal-internal"
             xreflabel="()">
      <title id="public.function.unaccent-lexize-internal-internal-internal-internal-title">
       unaccent_lexize(internal, internal, internal, internal)
      </title>
      <titleabbrev id="public.function.unaccent-lexize-internal-internal-internal-internal-titleabbrev">
       unaccent_lexize(internal, internal, internal, internal)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>C</seg>
         <seg>internal</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>unaccent_lexize</programlisting>
      </para>
    </section>

<!-- Function ver_usuarios(text, text) -->
    <section id="public.function.ver-usuarios-text-text"
             xreflabel="()">
      <title id="public.function.ver-usuarios-text-text-title">
       ver_usuarios(text, text)
      </title>
      <titleabbrev id="public.function.ver-usuarios-text-text-titleabbrev">
       ver_usuarios(text, text)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>PLPGSQL</seg>
         <seg>text</seg>
        </seglistitem>
       </segmentedlist>
 
       Muestra la lista de nombres de usuarios a partir de la cadena ingresada en radicado.radicca, radicado.radi_usua_rem y radicado.radi_usua_dest
        <programlisting>
DECLARE
    fila RECORD;
    cadena text;
    separador text;
    lista_usuarios text;
Begin
    cadena := &#39;&#39;;
    separador := &#39;&#39;;
    BEGIN
        lista_usuarios := replace(replace($1,&#39;--&#39;,&#39;,&#39;),&#39;-&#39;,&#39;&#39;);
        for fila in execute E&#39;select usua_nombre, coalesce(inst_sigla,\&#39;\&#39;) as inst_sigla from usuario where usua_codi in (&#39;||lista_usuarios||&#39;)&#39; loop
            cadena := cadena || separador || &#39; &#39; || fila.usua_nombre || case when trim(fila.inst_sigla)&lt;&gt;&#39;&#39; then &#39; (&#39;||fila.inst_sigla||&#39;)&#39; else &#39;&#39; end;
            separador := $2;
         end loop;
    EXCEPTION WHEN OTHERS THEN
        cadena := &#39;&#39;;
    END;
    return cadena;
end;
</programlisting>
      </para>
    </section>

<!-- Function ws_func_validar_login(usr_login text, usr_password text, nombre_sistema text, usr_tipo text) -->
    <section id="public.function.ws-func-validar-login-usr-login-text-usr-password-text-nombre-sistema-text-usr-tipo-text"
             xreflabel="()">
      <title id="public.function.ws-func-validar-login-usr-login-text-usr-password-text-nombre-sistema-text-usr-tipo-text-title">
       ws_func_validar_login(usr_login text, usr_password text, nombre_sistema text, usr_tipo text)
      </title>
      <titleabbrev id="public.function.ws-func-validar-login-usr-login-text-usr-password-text-nombre-sistema-text-usr-tipo-text-titleabbrev">
       ws_func_validar_login(usr_login text, usr_password text, nombre_sistema text, usr_tipo text)
      </titleabbrev>

      <para>
       <segmentedlist>
        <title>Function Properties</title>
        <?dbhtml list-presentation="list"?>
        <segtitle>Language</segtitle>
        <segtitle>Return Type</segtitle>
        <seglistitem>
         <seg>PLPGSQL</seg>
         <seg>integer</seg>
        </seglistitem>
       </segmentedlist>
 
       
        <programlisting>
DECLARE
    var_password text;
    var_where text;
    var_recordset record;
BEGIN
    -- Limpiamos las cadenas de texto
    if strpos(usr_login||usr_password||nombre_sistema, E&#39;\&#39;&#39;)&gt;0 then return 0; end if; -- Valida que los datos no tengan \&#39; (ataque SQL Injection)
    var_password := substr(usr_password,2,26);
    -- Validamos el tipo de usuario, por defecto todos (F: Funcionarios - C: Ciudadanos)
    var_where := &#39;&#39;;
    if usr_tipo=&#39;F&#39; then var_where := &#39; and tipo_usuario=1&#39;; end if;
    if usr_tipo=&#39;C&#39; then var_where := &#39; and tipo_usuario=2&#39;; end if;
    BEGIN
	-- TODO - VALIDAR LIMITE DE INTENTOS. Retorna 4
    
	execute E&#39;select usua_codi from usuario 
	          where usua_login=\&#39;U&#39;||usr_login||E&#39;\&#39; 
	              and usua_pasw=\&#39;&#39;||var_password||E&#39;\&#39; 
	              and usua_esta=1 and inst_estado=1 &#39;||var_where||&#39; 
	          order by tipo_usuario asc, usua_codi asc 
	          limit 1 offset 0&#39; into var_recordset;
	          
	if var_recordset is not null then
	    -- TODO - INICIALIZAR INTENTOS DE ACCESO Y GRABAR LOG
	    return var_recordset.usua_codi; -- Si el usuario puede acceder al sistema. - RETURN 1
	else
	    -- TODO - SUMAR INTENTO DE ACCESO Y GRABAR LOG
            execute E&#39;select * from usuario 
	              where usua_cedula like \&#39;&#39;||usr_login||E&#39;%\&#39; &#39;||var_where||&#39; 
	              order by tipo_usuario asc, usua_esta desc, inst_estado desc
	              limit 1 offset 0&#39; into var_recordset;
	              
	    --if var_recordset is null then return -1; end if; -- Si no existe el usuario - RETURN 2
	    if var_recordset.usua_esta&lt;&gt;1 or var_recordset.inst_estado&lt;&gt;1 then return -2; end if; -- Usuario inactivo - RETURN -2
	    return -1;
	end if;
    EXCEPTION WHEN OTHERS THEN
        return -1;
    END;
    return -1;
END;
</programlisting>
      </para>
    </section>

  </chapter>

</book>

